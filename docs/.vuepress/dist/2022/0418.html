<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>0418 ~ 0424 | TIL</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="Today I Learned">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.7d1de6ab.css" as="style"><link rel="preload" href="/TIL/assets/js/app.5de8cb9d.js" as="script"><link rel="preload" href="/TIL/assets/js/2.4f3b10d1.js" as="script"><link rel="preload" href="/TIL/assets/js/59.50bf3251.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.f1cbf27c.js"><link rel="prefetch" href="/TIL/assets/js/11.dd9c7322.js"><link rel="prefetch" href="/TIL/assets/js/12.6be9f680.js"><link rel="prefetch" href="/TIL/assets/js/13.f858a661.js"><link rel="prefetch" href="/TIL/assets/js/14.25ecca3c.js"><link rel="prefetch" href="/TIL/assets/js/15.79f23de7.js"><link rel="prefetch" href="/TIL/assets/js/16.01009a95.js"><link rel="prefetch" href="/TIL/assets/js/17.14399a66.js"><link rel="prefetch" href="/TIL/assets/js/18.99221f05.js"><link rel="prefetch" href="/TIL/assets/js/19.ded1bc97.js"><link rel="prefetch" href="/TIL/assets/js/20.a5f22302.js"><link rel="prefetch" href="/TIL/assets/js/21.5d765a74.js"><link rel="prefetch" href="/TIL/assets/js/22.649dccef.js"><link rel="prefetch" href="/TIL/assets/js/23.73bc9904.js"><link rel="prefetch" href="/TIL/assets/js/24.07c29462.js"><link rel="prefetch" href="/TIL/assets/js/25.648f649b.js"><link rel="prefetch" href="/TIL/assets/js/26.faa6bb2e.js"><link rel="prefetch" href="/TIL/assets/js/27.4de87297.js"><link rel="prefetch" href="/TIL/assets/js/28.4473a96f.js"><link rel="prefetch" href="/TIL/assets/js/29.4551d769.js"><link rel="prefetch" href="/TIL/assets/js/3.7938505f.js"><link rel="prefetch" href="/TIL/assets/js/30.c0f04313.js"><link rel="prefetch" href="/TIL/assets/js/31.e990f6c1.js"><link rel="prefetch" href="/TIL/assets/js/32.4f1f33a4.js"><link rel="prefetch" href="/TIL/assets/js/33.1d46684b.js"><link rel="prefetch" href="/TIL/assets/js/34.30c7a1f6.js"><link rel="prefetch" href="/TIL/assets/js/35.51535786.js"><link rel="prefetch" href="/TIL/assets/js/36.41310eb1.js"><link rel="prefetch" href="/TIL/assets/js/37.2e9db11f.js"><link rel="prefetch" href="/TIL/assets/js/38.5792cf1b.js"><link rel="prefetch" href="/TIL/assets/js/39.5c4d7537.js"><link rel="prefetch" href="/TIL/assets/js/4.865692a8.js"><link rel="prefetch" href="/TIL/assets/js/40.d32b2705.js"><link rel="prefetch" href="/TIL/assets/js/41.f0a25595.js"><link rel="prefetch" href="/TIL/assets/js/42.256ebdde.js"><link rel="prefetch" href="/TIL/assets/js/43.205790b4.js"><link rel="prefetch" href="/TIL/assets/js/44.046707a6.js"><link rel="prefetch" href="/TIL/assets/js/45.b8addd51.js"><link rel="prefetch" href="/TIL/assets/js/46.5c7d6332.js"><link rel="prefetch" href="/TIL/assets/js/47.d11d3aeb.js"><link rel="prefetch" href="/TIL/assets/js/48.81b2f8a1.js"><link rel="prefetch" href="/TIL/assets/js/49.07056705.js"><link rel="prefetch" href="/TIL/assets/js/5.81254301.js"><link rel="prefetch" href="/TIL/assets/js/50.048d3029.js"><link rel="prefetch" href="/TIL/assets/js/51.9fa93b75.js"><link rel="prefetch" href="/TIL/assets/js/52.10312763.js"><link rel="prefetch" href="/TIL/assets/js/53.aea77d3f.js"><link rel="prefetch" href="/TIL/assets/js/54.28695de9.js"><link rel="prefetch" href="/TIL/assets/js/55.bf56dd6f.js"><link rel="prefetch" href="/TIL/assets/js/56.db80b413.js"><link rel="prefetch" href="/TIL/assets/js/57.0a6f3ff6.js"><link rel="prefetch" href="/TIL/assets/js/58.3f7acae4.js"><link rel="prefetch" href="/TIL/assets/js/6.6e8c67be.js"><link rel="prefetch" href="/TIL/assets/js/60.45fe1655.js"><link rel="prefetch" href="/TIL/assets/js/61.a80c3251.js"><link rel="prefetch" href="/TIL/assets/js/62.dff4315a.js"><link rel="prefetch" href="/TIL/assets/js/63.42b0f40b.js"><link rel="prefetch" href="/TIL/assets/js/64.ad8dfe5f.js"><link rel="prefetch" href="/TIL/assets/js/65.cacdf83a.js"><link rel="prefetch" href="/TIL/assets/js/66.be38f613.js"><link rel="prefetch" href="/TIL/assets/js/67.5338187c.js"><link rel="prefetch" href="/TIL/assets/js/68.6ce74c2f.js"><link rel="prefetch" href="/TIL/assets/js/69.c6449070.js"><link rel="prefetch" href="/TIL/assets/js/7.11b51e05.js"><link rel="prefetch" href="/TIL/assets/js/70.f9b186d0.js"><link rel="prefetch" href="/TIL/assets/js/71.0757817a.js"><link rel="prefetch" href="/TIL/assets/js/72.8526f5b0.js"><link rel="prefetch" href="/TIL/assets/js/73.96203167.js"><link rel="prefetch" href="/TIL/assets/js/74.262159bf.js"><link rel="prefetch" href="/TIL/assets/js/75.e79e0bca.js"><link rel="prefetch" href="/TIL/assets/js/76.92d5080e.js"><link rel="prefetch" href="/TIL/assets/js/8.fbeed53e.js"><link rel="prefetch" href="/TIL/assets/js/9.7af81715.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.7d1de6ab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">TIL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/jaesungahn91" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://velog.io/@ahnjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/jaesungahn91" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://velog.io/@ahnjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>2022</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/2022/0102.html" class="sidebar-link">0102 - 0109</a></li><li><a href="/TIL/2022/0110.html" class="sidebar-link">0110 - 0116</a></li><li><a href="/TIL/2022/0117.html" class="sidebar-link">0117 - 0123</a></li><li><a href="/TIL/2022/0124.html" class="sidebar-link">0124 - 0206</a></li><li><a href="/TIL/2022/0211.html" class="sidebar-link">0211 - 0220</a></li><li><a href="/TIL/2022/0221.html" class="sidebar-link">0221 - 0227</a></li><li><a href="/TIL/2022/0228.html" class="sidebar-link">0228 - 0313</a></li><li><a href="/TIL/2022/0314.html" class="sidebar-link">0314 - 0320</a></li><li><a href="/TIL/2022/0321.html" class="sidebar-link">0321 - 0328</a></li><li><a href="/TIL/2022/0328.html" class="sidebar-link">0329 ~ 0403</a></li><li><a href="/TIL/2022/0404.html" class="sidebar-link">0404 ~ 0410</a></li><li><a href="/TIL/2022/0411.html" class="sidebar-link">0411 ~ 0417</a></li><li><a href="/TIL/2022/0418.html" aria-current="page" class="active sidebar-link">0418 ~ 0424</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/2022/0418.html#_0418-퍼사드-패턴-facade-pattern" class="sidebar-link">0418 - 퍼사드 패턴(Facade Pattern)</a></li><li class="sidebar-sub-header"><a href="/TIL/2022/0418.html#_0422-애플리케이션-컨텍스트-application-context" class="sidebar-link">0422 - 애플리케이션 컨텍스트(Application Context)</a></li><li class="sidebar-sub-header"><a href="/TIL/2022/0418.html#_0424-스프링-spring-의-싱글톤-singleton" class="sidebar-link">0424 - 스프링(Spring)의 싱글톤(Singleton)</a></li></ul></li><li><a href="/TIL/2022/0425.html" class="sidebar-link">0425 ~ 0501</a></li><li><a href="/TIL/2022/0502.html" class="sidebar-link">0502 ~ 0515</a></li><li><a href="/TIL/2022/0516.html" class="sidebar-link">0516 ~ 0529</a></li><li><a href="/TIL/2022/0523.html" class="sidebar-link">0523 ~ 0605</a></li><li><a href="/TIL/2022/0606.html" class="sidebar-link">0606 ~ 0619</a></li><li><a href="/TIL/2022/0627.html" class="sidebar-link">0627 ~ 0703</a></li><li><a href="/TIL/2022/0711.html" class="sidebar-link">0711 ~ 0717</a></li><li><a href="/TIL/2022/0718.html" class="sidebar-link">0718 ~ 0724</a></li><li><a href="/TIL/2022/0725.html" class="sidebar-link">0725 ~ 0807</a></li><li><a href="/TIL/2022/0808.html" class="sidebar-link">0808 ~ 0814</a></li><li><a href="/TIL/2022/0815.html" class="sidebar-link">0815 ~ 0824</a></li><li><a href="/TIL/2022/0822.html" class="sidebar-link">0822 ~ 0911</a></li><li><a href="/TIL/2022/0912.html" class="sidebar-link">0912 ~ 0918</a></li><li><a href="/TIL/2022/0919.html" class="sidebar-link">0919 ~ 0925</a></li><li><a href="/TIL/2022/0926.html" class="sidebar-link">0926 ~ 1002</a></li><li><a href="/TIL/2022/1003.html" class="sidebar-link">1003 ~ 1009</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2021</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_0418-0424"><a href="#_0418-0424" class="header-anchor">#</a> 0418 ~ 0424</h1> <h2 id="_0418-퍼사드-패턴-facade-pattern"><a href="#_0418-퍼사드-패턴-facade-pattern" class="header-anchor">#</a> 0418 - 퍼사드 패턴(Facade Pattern)</h2> <h3 id="퍼사드-패턴이란"><a href="#퍼사드-패턴이란" class="header-anchor">#</a> 퍼사드 패턴이란</h3> <blockquote><p>서브시스템의 인터페이스 집합에 대한 하나의 상위 수준 인터페이스를 정의하는 패턴</p></blockquote> <p>퍼사드 패턴(Facade Pattern)은 구조패턴(Structural Pattern)의 한 종류로, 서브시스템들의 공통적인 기능을 정의하는 단순화된 상위 수준의 인터페이스를 정의하는 패턴이다. 서브시스템들 사이의 종속성을 줄일 수 있다.</p> <h4 id="구조-패턴-structural-pattern"><a href="#구조-패턴-structural-pattern" class="header-anchor">#</a> 구조 패턴(Structural Pattern)</h4> <p>구조패턴이란 작은 클래스들의 상속과 합성을 통해 더 큰 클래스를 생성하는 방법을 제공하는 패턴으로, 독립적으로 개발한 클래스들을 마치 하나인 것 처럼 사용할 수 있다.</p> <ul><li>적응자 패턴(Adapter)</li> <li>가교 패턴(Bridge)</li> <li>복합체 패턴(Composite)</li> <li>장식자 패턴(Decorator)</li> <li>퍼사드 패턴(Facade)</li> <li>플라이급 패턴(Flyweight)</li> <li>프록시 패턴(Proxy)</li></ul> <h3 id="구성"><a href="#구성" class="header-anchor">#</a> 구성</h3> <p><img src="https://dev-aiden.com/assets/images/2021-08-26-Facade-Pattern/1.png" alt="image"></p> <ul><li>Facade : 사용자의 요청을 서브시스템 객체에 전달하는 단순하고 일관된 통합 인터페이스</li> <li>Subsystem Classes : Facade에 대해 정보를 가지지 않고, 서브시스템의 기능을 구현하는 클래스</li></ul> <h3 id="퍼사드-패턴-예제"><a href="#퍼사드-패턴-예제" class="header-anchor">#</a> 퍼사드 패턴 예제</h3> <p>우리가 아침에 일어나서 사무실에 출근하기까지를 여러 과정으로 나눠볼 수 있다. 예를 들어 씻고, 아침을 먹고, 대중교통을 타서 출근을 하는데, 퍼사드 패턴을 이용하여 각각의 동작들을 서브클래스로 구현하고, 서브클래스들의 공통 기능을 정의하는 상위 수준의 인터페이스를 정의할 수 있다.</p> <h4 id="facade"><a href="#facade" class="header-anchor">#</a> Facade</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GoOffice</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">goToWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Wash</span> wash <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Wash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Breakfast</span> breakfast <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Breakfast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Move</span> move <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        wash<span class="token punctuation">.</span><span class="token function">brushTeeth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        wash<span class="token punctuation">.</span><span class="token function">shower</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        breakfast<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        breakfast<span class="token punctuation">.</span><span class="token function">water</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        move<span class="token punctuation">.</span><span class="token function">bus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="subsystem-classes"><a href="#subsystem-classes" class="header-anchor">#</a> Subsystem Classes</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Wash</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">brushTeeth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Brush my teeth&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">shower</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Take a shower&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Breakfast</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Have breakfast&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">water</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Drink water&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Move</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">bus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Take the bus&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="특징"><a href="#특징" class="header-anchor">#</a> 특징</h3> <ul><li>낮은 결합도 : 클라이언트가 서브시스템의 코드를 모르더라고 Facade 클래스를 통해 사용 가능</li> <li>서브 클래스 직접 접근 가능 : Facade 클래스를 통해 서브클래스를 사용할지, 서브클래스를 직접 사용할지 선택 가능</li></ul> <br> <h2 id="_0422-애플리케이션-컨텍스트-application-context"><a href="#_0422-애플리케이션-컨텍스트-application-context" class="header-anchor">#</a> 0422 - 애플리케이션 컨텍스트(Application Context)</h2> <h3 id="applicationcontext란"><a href="#applicationcontext란" class="header-anchor">#</a> ApplicationContext란?</h3> <p>Spring에서는 빈의 생성과 관계설정 같은 제어를 담당하는 IoC(Inversion of Control) 컨테이너인 빈 팩토리(Bean Factory)가 존재한다. 하지만 실제로는 빈의 생성과 관계설정 외에 추가적인 기능이 필요하다. 이러한 이유로 빈 팩토리를 상속받아 확장한 애플리케이션 컨텍스트를 주로 사용한다.<br>
애플리케이션 컨텍스트는 별도의 설정 정보를 참고하고 IoC를 적용하여 빈의 생성, 관계설정 등의 제어 작업을 총괄한다. 애플리케이션 컨텍스트에는 직접 오브젝트를 생성하고 관계를 맺어주는 코드가 없고, 그런 생성 정보와 연관관계 정보에 대한 설정을 읽어 처리한다. 예를 들어 @Configuration과 같은 어노테이션이 대표적인 IoC의 설정정보이다.</p> <p>ApplicationContext를 스프링 컨테이너라고 한다. ApplicationContext는 BeanFactory 인터페이스의 하위 인터페이스이다. 즉, ApplicationContext는 BeanFactory에 부가기능을 추가한 것이다.
BeanFactory는 스프링 컨테이너의 최상위 인터페이스이다. 스프링 빈을 관리하고 조회하는 역할을 한다. ApplicationContext는 BeanFactory + 부가 기능(국제화 기능, 환경 변수 관련 처리, 애플리케이션 이벤트, 리소스 조회)을 가진다.
정확히는 스프링 컨테이너를 부를 때, BeanFactory, ApplicationContext를 구분해서 말하지만, BeanFactory를 직접적으로 사용하는 경우는 거의 없다. 왜냐하면 ApplicationContext가 BeanFactory의 모든 기능을 가지고 있기 때문이다.
ApplicationContext의 구현체가 여러가지 있는데, 구현체에 따라 스프링 컨테이너를 XML을 기반으로 만들 수도 있고, 자바 클래스로 만들 수도 있다. 이게 가능한 이유는 빈 등록을 BeanDefinition으로 추상화해서 생성 하기 때문이다. XML로 하든, 자바로 하든 BeanDefinition이 생성된다.
스프링 컨테이너 내부에는 빈 저장소가 존재한다. 빈 저장소는 key로 빈 이름을 가지고 있으며, value로 실제 빈 객체를 가지고 있다.
스프링 컨테이너는 기본적으로 빈을 싱글톤으로 관리해준다. 따라서 싱글톤 컨테이너라고 불리기도 한다. 스프링 컨테이너가 빈을 싱글톤으로 관리해주면서 기존 싱글턴 패턴의 문제점(싱글톤 패턴 구현을 위한 코드가 추가되어야함, 구체 클래스에 의존, 유연성이 떨어짐 etc)은 없어지고, 싱글톤의 장점(매번 인스턴스를 생성할 필요없이 단 하나만 생성해서 비용을 줄일 수 있다.)만 가져갈 수 있다.</p> <h3 id="빈-bean-요청-시-처리-과정"><a href="#빈-bean-요청-시-처리-과정" class="header-anchor">#</a> 빈(Bean) 요청 시 처리 과정</h3> <p>클라이언트에서 해당 빈을 요청하면 애플리케이션 컨텍스트는 다음과 같은 과정을 거쳐 빈을 반환한다.</p> <ol><li>ApplicationContext는 @Configuration이 붙은 클래스들을 설정 정보로 등록해두고, @Bean이 붙은 메소드의 이름으로 빈 목록을 생성한다.</li> <li>클라이언트가 해당 빈을 요청한다.</li> <li>ApplicationContext는 자신의 빈 목록에서 요청한 이름이 있는지 찾는다.</li> <li>ApplicationContext는 설정 클래스로부터 빈 생성을 요청하고, 생성된 빈을 돌려준다.</li></ol> <p><img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FLuLhA%2Fbtq4squITMm%2FmqqtgMfiiahkAFBuPLMaLk%2Fimg.png" alt="image"></p> <p>애플리케이션 컨택스트는 @Configuration이 붙은 클래스들을 설정 정보로 등록해두고, @Bean이 붙은 메소드의 이름으로 빈 목록을 생성한다. 그리고 클라이언트가 해당 빈을 요청한다면 애플리케이션 컨텍스트는 자신의 빈 목록에서 요청한 이름이 있는지 찾고, 있다면 해당 빈 생성 메소드(@Bean)을 호출하여 객체를 생성하고 돌려준다. (구체적으로는 Spring 내부에서 Reflection API를 이용해 빈 정의에 나오는 클래스 이름을 이용하거나 또는 빈 팩토리를 통해 빈을 생성한다.)</p> <h3 id="애플리케이션-컨텍스트의-장점"><a href="#애플리케이션-컨텍스트의-장점" class="header-anchor">#</a> 애플리케이션 컨텍스트의 장점</h3> <h4 id="클라이언트는-configuration이-붙은-구체적인-팩토리-클래스를-알-필요가-없다"><a href="#클라이언트는-configuration이-붙은-구체적인-팩토리-클래스를-알-필요가-없다" class="header-anchor">#</a> - 클라이언트는 @Configuration이 붙은 구체적인 팩토리 클래스를 알 필요가 없다.</h4> <p>애플리케이션이 발전하면 팩토리 클래스가 계속해서 증가할 것이다. 애플리케이션 컨텍스트가 없다면 클라이언트는 원하는 객체를 가져오려면 어떤 팩토리 클래스에 접근해야 하는지 알아야 하는 번거로움이 생긴다. 반면에 애플리케이션 컨텍스트를 사용하면 팩토리가 아무리 많아져도 이에 직접 접근할 필요가 없어진다. 즉, 일관된 방식으로 원하는 빈을 가져올 수 있다.</p> <h4 id="애플리케이션-컨텍스트는-종합-ioc-서비스를-제공해준다"><a href="#애플리케이션-컨텍스트는-종합-ioc-서비스를-제공해준다" class="header-anchor">#</a> - 애플리케이션 컨텍스트는 종합 IoC 서비스를 제공해준다.</h4> <p>애플리케이션 컨텍스트는 객체의 생성과 관계 설정이 다가 아니다. 객체가 만들어지는 방식과 시점 및 전략 등을 다르게 가져갈 수 있고, 그 외에에도 후처리나 정보의 조합 인터셉트 등과 같은 다양한 기능이 존재한다.</p> <h4 id="애플리케이션-컨텍스트를-통해-다양한-빈-검색-방법을-제공할-수-있다"><a href="#애플리케이션-컨텍스트를-통해-다양한-빈-검색-방법을-제공할-수-있다" class="header-anchor">#</a> - 애플리케이션 컨텍스트를 통해 다양한 빈 검색 방법을 제공할 수 있다.</h4> <p>애플리케이션 컨텍스트에서 빈 목록을 관리하여, 빈의 이름이나 타입 또는 어노테이션 설정 등으로 빈을 찾을 수 있다. 이러한 빈을 직접 찾는 방식은 의존성 검색(dependency lookup)으로 불린다.</p> <h3 id="자바-설정-클래스로-스프링-컨테이너-생성하기"><a href="#자바-설정-클래스로-스프링-컨테이너-생성하기" class="header-anchor">#</a> 자바 설정 클래스로 스프링 컨테이너 생성하기</h3> <p>어노테이션 기반의 자바 크래스로 스프링 컨테이너를 만든 예시이다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">StationService</span> <span class="token function">stationService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">StationServiceImpl</span><span class="token punctuation">(</span><span class="token function">stationRepository</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">StationRepository</span> <span class="token function">stationRepository</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MemoryStationRepository</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token annotation punctuation">@Bean</span>
    <span class="token comment">// ...</span>

<span class="token punctuation">}</span>
</code></pre></div><p><code>new AnnotationConfigApplicationContext()</code>를 통헤 자바 기반 스프링 컨테이너를 만들어 준다. 그럼 비어있는 빈 저장소가 생긴다. 이때 만들어 둔 자바 설정 크래스를 파라미터로 넘겨줘서 생성한다. 그럼 자바 설정 클래스 내부의 @Bean 어노테이션이 붙은 메서드들을 실행하면서 빈 저장소에 실제 빈을 등록한다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ApplicationContext</span> applicationContext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">AppConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>사용할 땐, 빈 등록 메서드 이름을 통해 객체를 가져올 수 있다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">StationService</span> stationService <span class="token operator">=</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;stationService&quot;</span><span class="token punctuation">,</span> <span class="token class-name">StationService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><br> <h2 id="_0424-스프링-spring-의-싱글톤-singleton"><a href="#_0424-스프링-spring-의-싱글톤-singleton" class="header-anchor">#</a> 0424 - 스프링(Spring)의 싱글톤(Singleton)</h2> <h3 id="스프링에서-싱글톤을-사용하는-이유"><a href="#스프링에서-싱글톤을-사용하는-이유" class="header-anchor">#</a> 스프링에서 싱글톤을 사용하는 이유</h3> <p>애플리케이션 컨텍스트에 의해 등록된 빈은 기본적으로 싱글톤으로 관리된다. 즉, 스프링에 여러 번을 요청하더라도 매번 동일한 객체를 돌려준다. 애플리케이션 컨테긋트가 싱글톤으로 빈을 관리하는 이유는 대규모 트래픽을 처리할 수 있도록 하기 위함이다.<br>
스프링은 최초에 설계될 때 부터 대규모의 엔터프라이즈 환경에서 요청을 처리할 수 있도록 고안되었다. 그리고 그에따라 계층적으로 처리 구조(Controller, Service, Repository 등)가 나뉘어지게 되었다.<br>
그런데 매번 클라이언트에서 요청이 올 때무다 각 로직을 처리하는 빈을 새로 만들어서 사용한다고 생각해보자. 요청 1번에 5개의 객체가 만들어 진다고 하고, 1초에 500번 요청이 온다고 하면 초당 2500개의 새로운 객체가 생성된다. 아무리 GC의 성능이 좋아졌다 하더라도 부하가 걸리면 감당이 힘들 것이다.<br>
그래서 이러한 문제를 해결하고자 빈을 싱글톤 스코프로 관리하여 1개의 요청이 왔을 때 여러 쓰레드가 빈을 공유해 처리하도록 하였다.</p> <h3 id="스프링ᄋ에서-관리하는-싱글톤의-장점"><a href="#스프링ᄋ에서-관리하는-싱글톤의-장점" class="header-anchor">#</a> 스프링ㅇ에서 관리하는 싱글톤의 장점</h3> <ul><li>private 생성자를 갖고 있어 상속이 불가능하다.</li> <li>테스트하기 힘들다.</li> <li>서버 환경에서는 싱글톤이 1개만 생성됨을 보장하지 못한다.</li> <li>전역 상태를 만들 수 있기 때문에 바람직하지 못하다.</li></ul> <p>그래서 스프링은 직접 싱글톤 형태의 오브젝트를 만들고 관리하는 기능을 제공하는데, 그것이 바로 싱글톤 레지스트리(Singleton Registry)이다. 스프링 컨테이너는 싱글톤을 생성하고, 관리하고 공급하는 컨테이너기이기도 하다. 싱긅톤 레지스트리의 장점은 다음과 같다.</p> <ul><li>static 메소드나 private 생성자 등을 사용하지 않아 객체지향적 개발을 할 수 있다.</li> <li>테스트를 하기 편리하다.</li></ul> <p>기본적으로 싱글톤이 멀티쓰레드 환경에서 서비스 형태 객체로 사용되기 위해서는 내부에 상태정보를 갖지 않는 무상태(Stateless) 방식으로 만들어져야 한다. 만약 여러 쓰레드드들이 동시에 상태를 접근하여 수정한다면 상당히 위험하기 때문이다.<br>
직접 싱글톤을 구현한다면 상당히 많은 단점들이 있겠지만, 스프링 프레임워크에서 직접 싱글톤으로 객체를 관리해주므로,ㅡ 우리는 더욱 객체지향적인 개발을 할 수 있게 된다.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TIL/2022/0411.html" class="prev">
        0411 ~ 0417
      </a></span> <span class="next"><a href="/TIL/2022/0425.html">
        0425 ~ 0501
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/TIL/assets/js/app.5de8cb9d.js" defer></script><script src="/TIL/assets/js/2.4f3b10d1.js" defer></script><script src="/TIL/assets/js/59.50bf3251.js" defer></script>
  </body>
</html>

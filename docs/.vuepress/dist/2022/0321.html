<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>0321 - 0328 | TIL</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="Today I Learned">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.7d1de6ab.css" as="style"><link rel="preload" href="/TIL/assets/js/app.4569cc46.js" as="script"><link rel="preload" href="/TIL/assets/js/2.4f3b10d1.js" as="script"><link rel="preload" href="/TIL/assets/js/55.d05edecd.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.743c7a7d.js"><link rel="prefetch" href="/TIL/assets/js/11.07c5e4aa.js"><link rel="prefetch" href="/TIL/assets/js/12.6be9f680.js"><link rel="prefetch" href="/TIL/assets/js/13.f858a661.js"><link rel="prefetch" href="/TIL/assets/js/14.82759ed2.js"><link rel="prefetch" href="/TIL/assets/js/15.79ddc0c8.js"><link rel="prefetch" href="/TIL/assets/js/16.069746b9.js"><link rel="prefetch" href="/TIL/assets/js/17.c8f2758f.js"><link rel="prefetch" href="/TIL/assets/js/18.db501f6f.js"><link rel="prefetch" href="/TIL/assets/js/19.ed2c9b65.js"><link rel="prefetch" href="/TIL/assets/js/20.36a54f5f.js"><link rel="prefetch" href="/TIL/assets/js/21.6ff45fd0.js"><link rel="prefetch" href="/TIL/assets/js/22.59ad6789.js"><link rel="prefetch" href="/TIL/assets/js/23.73bc9904.js"><link rel="prefetch" href="/TIL/assets/js/24.07c29462.js"><link rel="prefetch" href="/TIL/assets/js/25.648f649b.js"><link rel="prefetch" href="/TIL/assets/js/26.bb48482b.js"><link rel="prefetch" href="/TIL/assets/js/27.33d41080.js"><link rel="prefetch" href="/TIL/assets/js/28.9f31a1d2.js"><link rel="prefetch" href="/TIL/assets/js/29.8557672e.js"><link rel="prefetch" href="/TIL/assets/js/3.21690252.js"><link rel="prefetch" href="/TIL/assets/js/30.9e6c1a28.js"><link rel="prefetch" href="/TIL/assets/js/31.e990f6c1.js"><link rel="prefetch" href="/TIL/assets/js/32.4a419ff7.js"><link rel="prefetch" href="/TIL/assets/js/33.d78bb64a.js"><link rel="prefetch" href="/TIL/assets/js/34.30c7a1f6.js"><link rel="prefetch" href="/TIL/assets/js/35.09f39742.js"><link rel="prefetch" href="/TIL/assets/js/36.f0e9f32a.js"><link rel="prefetch" href="/TIL/assets/js/37.0a9e58e5.js"><link rel="prefetch" href="/TIL/assets/js/38.2d1c9cd9.js"><link rel="prefetch" href="/TIL/assets/js/39.55691615.js"><link rel="prefetch" href="/TIL/assets/js/4.865692a8.js"><link rel="prefetch" href="/TIL/assets/js/40.d32b2705.js"><link rel="prefetch" href="/TIL/assets/js/41.cf5ca4c7.js"><link rel="prefetch" href="/TIL/assets/js/42.256ebdde.js"><link rel="prefetch" href="/TIL/assets/js/43.205790b4.js"><link rel="prefetch" href="/TIL/assets/js/44.046707a6.js"><link rel="prefetch" href="/TIL/assets/js/45.b8addd51.js"><link rel="prefetch" href="/TIL/assets/js/46.5c7d6332.js"><link rel="prefetch" href="/TIL/assets/js/47.d11d3aeb.js"><link rel="prefetch" href="/TIL/assets/js/48.81b2f8a1.js"><link rel="prefetch" href="/TIL/assets/js/49.134c6b03.js"><link rel="prefetch" href="/TIL/assets/js/5.81254301.js"><link rel="prefetch" href="/TIL/assets/js/50.6aabc39a.js"><link rel="prefetch" href="/TIL/assets/js/51.9fa93b75.js"><link rel="prefetch" href="/TIL/assets/js/52.1ca9ee11.js"><link rel="prefetch" href="/TIL/assets/js/53.383b04ab.js"><link rel="prefetch" href="/TIL/assets/js/54.7802ecfe.js"><link rel="prefetch" href="/TIL/assets/js/56.d262164c.js"><link rel="prefetch" href="/TIL/assets/js/57.9c836708.js"><link rel="prefetch" href="/TIL/assets/js/58.b3944ec3.js"><link rel="prefetch" href="/TIL/assets/js/59.50bf3251.js"><link rel="prefetch" href="/TIL/assets/js/6.6e8c67be.js"><link rel="prefetch" href="/TIL/assets/js/60.42f35a28.js"><link rel="prefetch" href="/TIL/assets/js/61.c7dc1d82.js"><link rel="prefetch" href="/TIL/assets/js/62.edd2fb4b.js"><link rel="prefetch" href="/TIL/assets/js/63.3776a4df.js"><link rel="prefetch" href="/TIL/assets/js/64.ad8dfe5f.js"><link rel="prefetch" href="/TIL/assets/js/65.d724428c.js"><link rel="prefetch" href="/TIL/assets/js/66.be38f613.js"><link rel="prefetch" href="/TIL/assets/js/67.5338187c.js"><link rel="prefetch" href="/TIL/assets/js/68.7697aa9b.js"><link rel="prefetch" href="/TIL/assets/js/69.f724656e.js"><link rel="prefetch" href="/TIL/assets/js/7.174b320f.js"><link rel="prefetch" href="/TIL/assets/js/70.ff105059.js"><link rel="prefetch" href="/TIL/assets/js/71.d08f1b67.js"><link rel="prefetch" href="/TIL/assets/js/72.65836885.js"><link rel="prefetch" href="/TIL/assets/js/73.0d49b892.js"><link rel="prefetch" href="/TIL/assets/js/8.f8e9f2c0.js"><link rel="prefetch" href="/TIL/assets/js/9.2a229c54.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.7d1de6ab.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">TIL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/jaesungahn91" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://velog.io/@ahnjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/jaesungahn91" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://velog.io/@ahnjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>2022</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/2022/0102.html" class="sidebar-link">0102 - 0109</a></li><li><a href="/TIL/2022/0110.html" class="sidebar-link">0110 - 0116</a></li><li><a href="/TIL/2022/0117.html" class="sidebar-link">0117 - 0123</a></li><li><a href="/TIL/2022/0124.html" class="sidebar-link">0124 - 0206</a></li><li><a href="/TIL/2022/0211.html" class="sidebar-link">0211 - 0220</a></li><li><a href="/TIL/2022/0221.html" class="sidebar-link">0221 - 0227</a></li><li><a href="/TIL/2022/0228.html" class="sidebar-link">0228 - 0313</a></li><li><a href="/TIL/2022/0314.html" class="sidebar-link">0314 - 0320</a></li><li><a href="/TIL/2022/0321.html" aria-current="page" class="active sidebar-link">0321 - 0328</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/2022/0321.html#_0321-자바-표준-jls-jsr-jep" class="sidebar-link">0321 - 자바 표준 (JLS, JSR, JEP)</a></li><li class="sidebar-sub-header"><a href="/TIL/2022/0321.html#_0322-elementcolleciton-collectiontable" class="sidebar-link">0322 - @ElementColleciton, @CollectionTable</a></li><li class="sidebar-sub-header"><a href="/TIL/2022/0321.html#_0323-docker-compose-기본-사용법" class="sidebar-link">0323 - docker compose 기본 사용법</a></li><li class="sidebar-sub-header"><a href="/TIL/2022/0321.html#_0327-가변인자-varargs" class="sidebar-link">0327 - 가변인자(varargs)</a></li></ul></li><li><a href="/TIL/2022/0328.html" class="sidebar-link">0329 ~ 0403</a></li><li><a href="/TIL/2022/0404.html" class="sidebar-link">0404 ~ 0410</a></li><li><a href="/TIL/2022/0411.html" class="sidebar-link">0411 ~ 0417</a></li><li><a href="/TIL/2022/0418.html" class="sidebar-link">0418 ~ 0424</a></li><li><a href="/TIL/2022/0425.html" class="sidebar-link">0425 ~ 0501</a></li><li><a href="/TIL/2022/0502.html" class="sidebar-link">0502 ~ 0515</a></li><li><a href="/TIL/2022/0516.html" class="sidebar-link">0516 ~ 0529</a></li><li><a href="/TIL/2022/0523.html" class="sidebar-link">0523 ~ 0605</a></li><li><a href="/TIL/2022/0606.html" class="sidebar-link">0606 ~ 0619</a></li><li><a href="/TIL/2022/0627.html" class="sidebar-link">0627 ~ 0703</a></li><li><a href="/TIL/2022/0711.html" class="sidebar-link">0711 ~ 0717</a></li><li><a href="/TIL/2022/0718.html" class="sidebar-link">0718 ~ 0724</a></li><li><a href="/TIL/2022/0725.html" class="sidebar-link">0725 ~ 0807</a></li><li><a href="/TIL/2022/0808.html" class="sidebar-link">0808 ~ 0814</a></li><li><a href="/TIL/2022/0815.html" class="sidebar-link">0815 ~ 0824</a></li><li><a href="/TIL/2022/0822.html" class="sidebar-link">0822 ~ 0828</a></li><li><a href="/TIL/2022/0912.html" class="sidebar-link">0912 ~ 0918</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2021</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_0321-0328"><a href="#_0321-0328" class="header-anchor">#</a> 0321 - 0328</h1> <h2 id="_0321-자바-표준-jls-jsr-jep"><a href="#_0321-자바-표준-jls-jsr-jep" class="header-anchor">#</a> 0321 - 자바 표준 (JLS, JSR, JEP)</h2> <p>자바 스펙 관련해서 JSR-123, JLS-123 처럼 스펙을 확인할 수 있다. 이런 스펙뒤에는 '자바 커뮤니티 프로세스(JCP, Java Community Process)'가 있다.</p> <h3 id="자바-강화-제안-java-enhancement-proposal-jep"><a href="#자바-강화-제안-java-enhancement-proposal-jep" class="header-anchor">#</a> 자바 강화 제안 (Java Enhancement Proposal, JEP)</h3> <p>자바 코어 기술을 강화하기위한 제안 문서다. 이 제안들은 대부분 이어서 설명할 JSR이나 JLS같은 명세로 정리할 상태는 아니다. OpenJDK/JDK의 업데이트에 포함될 수 있는 제안 목록들이다.<br>
채택된 JEP는 특정 JDK릴리즈에 포함될 수 있으며, 모든 JEP가 승인되어 업데이트에 포함되는건 아니다.<br>
JEP에 제안되는 목록들이 JDK의 로드맵이 된다.</p> <p>일반적으로 실행 가능한 것과 실행 불가능한 것들을 나누고 명세가 생성될 수 있는 지점까지 명확하게 하기 위해 프로토타이핑이 필요하다.</p> <h3 id="자바-요청-명세서-java-specification-request-jsr"><a href="#자바-요청-명세서-java-specification-request-jsr" class="header-anchor">#</a> 자바 요청 명세서(Java Specification Request, JSR)</h3> <p>JCP의 새 명세를 만들기 위해 구성된 팀원들을 위해 만들어진 문서다. 일반적인 JSR의 주제는 이미 성숙된 기술과 관련이 있다. 다시 말해서 분류될 수 있는 상태에 있다.<br>
다만 이명세들은 항상 자바와 관련되어 있음에도 때론 명세들이 Java SE 또는 Java EE 기술의 핵심이 되지는 않는다.</p> <h3 id="자바-언어-명세서-java-language-specification-jls"><a href="#자바-언어-명세서-java-language-specification-jls" class="header-anchor">#</a> 자바 언어 명세서(Java Language Specification, JLS)</h3> <p>자바 언어 명세서를 뜻한다. JLS는 자바 프로그래밍 언어를 위한 문법과 정상적인/비정상적인 규칙들을 보여준다. 그리고 정상적인 프로그램을 실행하기위한 프로그램 방법들도 보여준다.</p> <blockquote><p>JEP가 지속적으로 나오고 그 JEP중 JSR로 승격될만한 것을 선별한 다음 승격한다.<br>
이러한 JSR을 구체화 해서 버전별로 정의해둔 것이 JLS 문서이다.</p></blockquote> <br> <h2 id="_0322-elementcolleciton-collectiontable"><a href="#_0322-elementcolleciton-collectiontable" class="header-anchor">#</a> 0322 - @ElementColleciton, @CollectionTable</h2> <h3 id="값-타입-컬렉션"><a href="#값-타입-컬렉션" class="header-anchor">#</a> 값 타입 컬렉션</h3> <p>말 그대로 값 타입을 컬렉션에 담아서 사용하는 것이다. (@OneToMany 처럼 엔티티를 컬렉션으로 사용하는 것이 아닌, Integer, String, 임베디드 타입 같은 값 타입을 컬렉션으로 사용하는 것이다.)</p> <p>관계형 데이터베이스는 컬렉션을 담을 수 있는 구조가 없다. 따라서 이를 저장하기 위해서는 별도의 테이블을 만들어서 저장해야 하는데, 개념적으로 보면 1대 N관계 이다. (값 타입을 저장하는 테이블은, 값 타입을 소유한 엔티티의 기본 키와, 모든 값 타입 필드를 묶어서 PK로 사용하며, 엔티티의 기본키를 PK겸 FK로 사용한다.)</p> <h3 id="elementcolleciton"><a href="#elementcolleciton" class="header-anchor">#</a> @ElementColleciton</h3> <p>값 타입 컬렉션을 매핑할 때 사용한다. @Entity가 아닌 Basic Type이나 Embeddable Class로 정의된 컬렐션을 테이블로 생성하며 One-To-Many 관계를 다룬다.<br>
@ElementColleciton은 @CollectionTable과 함께 사용한다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Entity</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudyGroup</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Id</span> 
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span>IDENTITY<span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>
 
    <span class="token comment">// Basic type</span>
    <span class="token annotation punctuation">@ElementCollection</span><span class="token punctuation">(</span>fetch <span class="token operator">=</span> <span class="token class-name">FetchType</span><span class="token punctuation">.</span>LAZY<span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;TOPIC_NAME&quot;</span><span class="token punctuation">)</span><span class="token comment">//String인 경우에 한해서 예외적으로 허용, 이외 타입은 @AttributeOverride를 사용해서 테이블 속성을 재정의한다.</span>
    <span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> topicTags <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
    <span class="token comment">// Embedded type</span>
    <span class="token annotation punctuation">@ElementCollection</span>
    <span class="token annotation punctuation">@CollectionTable</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;study_group_member&quot;</span><span class="token punctuation">,</span> joinColumns <span class="token operator">=</span> <span class="token annotation punctuation">@JoinColumn</span><span class="token punctuation">(</span>name<span class="token operator">=</span> <span class="token string">&quot;study_group_id&quot;</span><span class="token punctuation">,</span> referencedColumnName <span class="token operator">=</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">StudyGroupMember</span><span class="token punctuation">&gt;</span></span> members <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">StudyGroupMember</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Embeddable</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudyGroupMember</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">UUID</span> memberId<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> isOwner<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>값 타입 컬렉션은 조회 시 지연로딩 전략을 사용한다.</li> <li>값 타입은 그 생명주기를 부모 엔티티에 의해 관리된다. 즉 영속성 전이(Cascade ALL) + 고아 객체 제거 기능을 필수로 가진다.</li></ul> <h3 id="elementcollection과-entity의-onetomany-차이"><a href="#elementcollection과-entity의-onetomany-차이" class="header-anchor">#</a> @ElementCollection과 @Entity의 @OneToMany 차이</h3> <ul><li><p>@ElementCollection</p> <ul><li>연관된 부모 Entity 하나에만 연관되어 관리된다.</li> <li>항상 부모와 함께 저장되고 삭제되므로 cascade 옵션은 제공하지 않는다.</li> <li>부모 Entity Id와 추가 컬럼(basic or embedded 타입)으로 구성된다.</li> <li>기본적으로 식별자 개념이 없으므로 컬렉션 값 변경 시, 전체 삭제 후 새로 추가한다.</li></ul></li> <li><p>@Entity 연관</p> <ul><li>다른 Entity에 의해 관리될 수도 있다.</li> <li>join table이나 컬럼은 보통 ID만으로 연관을 맺는다.</li></ul></li></ul> <br> <h2 id="_0323-docker-compose-기본-사용법"><a href="#_0323-docker-compose-기본-사용법" class="header-anchor">#</a> 0323 - docker compose 기본 사용법</h2> <h3 id="docker-compose란"><a href="#docker-compose란" class="header-anchor">#</a> docker compose란?</h3> <p>docker compose는 여러 개의 docker container를 모아서 관리하기 위한 툴이다.<br>
웹 서비스는 일반적으로 프론트엔드 서버, 벡엔드 서버, 데이터베이스 서버로 구성되기 때문에 각 서버를 Docker container로 연결하여 동작시키고 docker compose를 사용하여 해당 컨테이너들을 관리하는 것이다.</p> <h3 id="docker-compose-yml"><a href="#docker-compose-yml" class="header-anchor">#</a> docker-compose.yml</h3> <p>docker- compose.yml은 장황한 도커 실행 옵션을 미리 적어둔 문서이다.<br>
프로젝트 루트에 파일을 만들고, 실행 설정을 적어준다. 그래야 터미널에서 토커 명령어를 사용하여 컨테이너를 실행하거나 죽일 수 있다.</p> <ul><li>시스템 안에서 가동하는 여러 서버들의 구성을 모아서 정의</li></ul> <div class="language- extra-class"><pre class="language-text"><code>- version :  버전 지정  
- services :  서비스 정의  
- image :  이미지 지정  
- build :  Dockerfile 위치 지정
- command :  container 에서 작동하는 명령
- entrypoint : container 에서 작동하는 명령
- depends_on : 서비스간 의존관계 설정
- environment : 컨테이너 안 환경변수 설정
- container_name : 컨테이너 이름 설정
- volumes : 컨테이너에 볼륨 Mount
- volumes_from : 다른 컨테이너로부터 모든 볼륨 마운트
- links : 다른 컨테이너와 연결
- ports : Host 에 컨테이너가 공개하는 포트지정
- expose : 컨테이너끼리 공개하는 포트 지정
</code></pre></div><h3 id="docker-compose-기본-명령어"><a href="#docker-compose-기본-명령어" class="header-anchor">#</a> docker-compose 기본 명령어</h3> <ul><li>docker-compose up [옵션] [서비스명] : 컨테이너를 생성 및 실행한다.</li></ul> <div class="language- extra-class"><pre class="language-text"><code>-d : 백그라운드 실행
--No-deps : 링크 서비스 실행하지 않음
--build : 이미지 빌드
-t : 타임아웃을 지정(기본 10초)
</code></pre></div><ul><li>docker-compose ps : 현재 동작중인 컨테이너들의 상태를 확인할 수 있다.</li> <li>docker-compose logs : 컨테이너들의 로그를 출력한다.</li> <li>docker-compose run [서비스명] [명령] : docker-compose up 명령어를 이용해 생성 및 실행된 컨테이너에서 임의의 명령을 실행하기 위해 사용한다. 컨테이너들을 모두 삭제할 경우 docker-compose start가 아닌, docker-compose up으로 다시 컨테이너들을 생성해주어야 한다.</li> <li>docker-compose (start/stop/pause/unpause/restart) : 여러개의 서비스 또는 특정 서비스를 시작/정지/일시정지/재시작을 할 수 있다. 각각의 설정뒤에 서비스명을 붙이면 특정 서비스만 제어할 수 있다.</li> <li>docker-compose rm : docker-compose로 생성한 컨테이너들을 일괄 삭제한다.(삭제 전, 관련 컨테이너들을 종료 시켜두어야 한다.)</li> <li>docker-compose kill : 실행중인 컨테이너를 강제로 정지시킨다. kill 뒤에는 서비스를 지정하여 특정 서비스만 kill할 수 있다. -s 옵션을 사용하여 시그널을 지정해줄 수 있다.</li> <li>docker-compose down : 네트워크 정보, 볼륨, 컨테이너들을 일괄 정지 및 삭제 처리한다. (만약 docker-compose down —rmi all 명령을 사용한다면 모든 이미지까지 삭제 한다.)</li> <li>docker-compse port [서비스명] [프라이빗 포트번호] : 서비스 프라이빗 포트 번호의 설정을 확인할 수 있다.</li> <li>docker-compose config : 구성 파일의 내용을 확인할 수 있다. docker-compose.yml의 내용을 출력</li></ul> <br> <h2 id="_0327-가변인자-varargs"><a href="#_0327-가변인자-varargs" class="header-anchor">#</a> 0327 - 가변인자(varargs)</h2> <ul><li>형태</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> parameter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    
<span class="token punctuation">}</span>
</code></pre></div><h3 id="오버로딩"><a href="#오버로딩" class="header-anchor">#</a> 오버로딩</h3> <p>자바에서는 파라미터 개수가 다르면 다른 메소드로 인신한다.<br>
동일한 기능을 하지만 파라미터가 가변적으로 변경되는 경우 오버로딩을 사용한다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 파라미터가 한 개인 경우</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token class-name">String</span> one<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 파라미터가 두 개인 경우</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token class-name">String</span> one<span class="token punctuation">,</span> <span class="token class-name">String</span> two<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 파라미터가 세 개인 경우</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token class-name">String</span> one<span class="token punctuation">,</span> <span class="token class-name">String</span> two<span class="token punctuation">,</span> <span class="token class-name">String</span> three<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// Map을 사용하는 경우</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> param<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 배열을 사용하는 경우</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> param<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// List를 사용하는 경우</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> param<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// VO객체를 사용하는 경우</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token class-name">ParamVO</span> param<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="가변인자"><a href="#가변인자" class="header-anchor">#</a> 가변인자</h3> <p>가변인자를 사용하면 동적으로 파라미터를 받을 수 있으며 자바 1.5부터 지원된다. 사용법은 변수 타입 뒤에 기호(...)를 붙여주면 됩니다.</p> <p>가변인자를 가지고 있는 메소드를 호출할 때는 아래 방법 모두 가능하다</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">callMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	
    <span class="token comment">// 파라미터가 없음</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 파라미터가 한개</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 파라미터가 두개</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 배열로 전달</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> param<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;param: &quot;</span> <span class="token operator">+</span> param<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>
</code></pre></div><p>다른 파라미터와 가변인자를 같이 사용하는 경우에는 가변인자를 제일 뒤에 위치 시켜야 한다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test2</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> param<span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;param: &quot;</span> <span class="token operator">+</span> param<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
<span class="token punctuation">}</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TIL/2022/0314.html" class="prev">
        0314 - 0320
      </a></span> <span class="next"><a href="/TIL/2022/0328.html">
        0329 ~ 0403
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/TIL/assets/js/app.4569cc46.js" defer></script><script src="/TIL/assets/js/2.4f3b10d1.js" defer></script><script src="/TIL/assets/js/55.d05edecd.js" defer></script>
  </body>
</html>

<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>0906 - 0919 | TIL</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="
0907 - Static, Stack, Heap / Java 메모리 영역
> 프로그램을 구동하기 위해서는 운영체제가 메모리에 데이터 및 명령을 저장할 공간을 할당해야함.
> 메모리는 CPU가 처리할 데이터가 임시로 저장되는 공간. 동작은 하드디스크에  저장된 데이터가 메모리에 올라가서 실행되며, 메모리를 주 기억 장치라고 부름
> => 메모 ...">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.9729072d.css" as="style"><link rel="preload" href="/TIL/assets/js/app.face42bf.js" as="script"><link rel="preload" href="/TIL/assets/js/6.5d7ec74f.js" as="script"><link rel="preload" href="/TIL/assets/js/11.eca71194.js" as="script"><link rel="preload" href="/TIL/assets/js/37.0853aeff.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.5c95ce33.js"><link rel="prefetch" href="/TIL/assets/js/12.44862a55.js"><link rel="prefetch" href="/TIL/assets/js/13.3354667d.js"><link rel="prefetch" href="/TIL/assets/js/14.ebd32721.js"><link rel="prefetch" href="/TIL/assets/js/15.9a5da76a.js"><link rel="prefetch" href="/TIL/assets/js/16.0ec9d5c5.js"><link rel="prefetch" href="/TIL/assets/js/17.197aed0f.js"><link rel="prefetch" href="/TIL/assets/js/18.ac1d8f71.js"><link rel="prefetch" href="/TIL/assets/js/19.52554e37.js"><link rel="prefetch" href="/TIL/assets/js/20.d49a3176.js"><link rel="prefetch" href="/TIL/assets/js/21.703e3b5b.js"><link rel="prefetch" href="/TIL/assets/js/22.b15b40cf.js"><link rel="prefetch" href="/TIL/assets/js/23.f660074b.js"><link rel="prefetch" href="/TIL/assets/js/24.7cae7b6d.js"><link rel="prefetch" href="/TIL/assets/js/25.4544b20e.js"><link rel="prefetch" href="/TIL/assets/js/26.1b3a0d64.js"><link rel="prefetch" href="/TIL/assets/js/27.ef321cf3.js"><link rel="prefetch" href="/TIL/assets/js/28.6559ba71.js"><link rel="prefetch" href="/TIL/assets/js/29.724725e7.js"><link rel="prefetch" href="/TIL/assets/js/3.70c77cf4.js"><link rel="prefetch" href="/TIL/assets/js/30.a52d1089.js"><link rel="prefetch" href="/TIL/assets/js/31.198eeb03.js"><link rel="prefetch" href="/TIL/assets/js/32.1c678662.js"><link rel="prefetch" href="/TIL/assets/js/33.f3411971.js"><link rel="prefetch" href="/TIL/assets/js/34.92db02e4.js"><link rel="prefetch" href="/TIL/assets/js/35.e45ae628.js"><link rel="prefetch" href="/TIL/assets/js/36.454a23c3.js"><link rel="prefetch" href="/TIL/assets/js/38.f4787dfc.js"><link rel="prefetch" href="/TIL/assets/js/39.fa931ac4.js"><link rel="prefetch" href="/TIL/assets/js/4.851786b4.js"><link rel="prefetch" href="/TIL/assets/js/40.2f2b7cc1.js"><link rel="prefetch" href="/TIL/assets/js/41.af69bea0.js"><link rel="prefetch" href="/TIL/assets/js/42.266b80d2.js"><link rel="prefetch" href="/TIL/assets/js/43.9eca0436.js"><link rel="prefetch" href="/TIL/assets/js/44.3c9dd560.js"><link rel="prefetch" href="/TIL/assets/js/45.839c0213.js"><link rel="prefetch" href="/TIL/assets/js/46.44355db1.js"><link rel="prefetch" href="/TIL/assets/js/47.fb2d1489.js"><link rel="prefetch" href="/TIL/assets/js/48.117f6110.js"><link rel="prefetch" href="/TIL/assets/js/49.f5f58c80.js"><link rel="prefetch" href="/TIL/assets/js/5.a40fa64b.js"><link rel="prefetch" href="/TIL/assets/js/50.bf663577.js"><link rel="prefetch" href="/TIL/assets/js/51.c3bdfcaa.js"><link rel="prefetch" href="/TIL/assets/js/52.5a372c16.js"><link rel="prefetch" href="/TIL/assets/js/53.796d7943.js"><link rel="prefetch" href="/TIL/assets/js/54.c46aa092.js"><link rel="prefetch" href="/TIL/assets/js/55.3e3ec3b1.js"><link rel="prefetch" href="/TIL/assets/js/56.e7675ae5.js"><link rel="prefetch" href="/TIL/assets/js/57.7e5b274a.js"><link rel="prefetch" href="/TIL/assets/js/58.8674754f.js"><link rel="prefetch" href="/TIL/assets/js/59.b922d1c3.js"><link rel="prefetch" href="/TIL/assets/js/60.7ce728db.js"><link rel="prefetch" href="/TIL/assets/js/61.e69f607b.js"><link rel="prefetch" href="/TIL/assets/js/62.f6f4222a.js"><link rel="prefetch" href="/TIL/assets/js/63.e9323ce2.js"><link rel="prefetch" href="/TIL/assets/js/64.d0c85d08.js"><link rel="prefetch" href="/TIL/assets/js/65.a9819011.js"><link rel="prefetch" href="/TIL/assets/js/66.c87d09bc.js"><link rel="prefetch" href="/TIL/assets/js/67.7ca58cbd.js"><link rel="prefetch" href="/TIL/assets/js/68.321ea5a8.js"><link rel="prefetch" href="/TIL/assets/js/69.a7741122.js"><link rel="prefetch" href="/TIL/assets/js/7.fda50c33.js"><link rel="prefetch" href="/TIL/assets/js/70.bdeee399.js"><link rel="prefetch" href="/TIL/assets/js/71.f312da68.js"><link rel="prefetch" href="/TIL/assets/js/72.91f45247.js"><link rel="prefetch" href="/TIL/assets/js/73.88953b79.js"><link rel="prefetch" href="/TIL/assets/js/74.d1611c1b.js"><link rel="prefetch" href="/TIL/assets/js/75.37f9e0f8.js"><link rel="prefetch" href="/TIL/assets/js/76.dc32c379.js"><link rel="prefetch" href="/TIL/assets/js/77.5433e0a6.js"><link rel="prefetch" href="/TIL/assets/js/78.6fda6ca0.js"><link rel="prefetch" href="/TIL/assets/js/79.3e50b7b1.js"><link rel="prefetch" href="/TIL/assets/js/8.584bc921.js"><link rel="prefetch" href="/TIL/assets/js/80.18405258.js"><link rel="prefetch" href="/TIL/assets/js/81.e4ccf68a.js"><link rel="prefetch" href="/TIL/assets/js/82.6b7c1912.js"><link rel="prefetch" href="/TIL/assets/js/83.34d29caa.js"><link rel="prefetch" href="/TIL/assets/js/84.ee39d9de.js"><link rel="prefetch" href="/TIL/assets/js/85.1184af6c.js"><link rel="prefetch" href="/TIL/assets/js/86.138caca8.js"><link rel="prefetch" href="/TIL/assets/js/87.038c2438.js"><link rel="prefetch" href="/TIL/assets/js/9.ad0ae255.js"><link rel="prefetch" href="/TIL/assets/js/vuejs-paginate.e9164293.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.9729072d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/TIL/" class="nav-link home-link">TIL </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="https://github.com/jaesungahn91" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub</a></li><li class="nav-item"><a href="https://velog.io/@ahnjs" target="_blank" rel="noopener noreferrer" class="nav-link external">Blog</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/TIL/" class="nav-link mobile-home-link">TIL </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="https://github.com/jaesungahn91" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub</a></li><li class="mobile-nav-item"><a href="https://velog.io/@ahnjs" target="_blank" rel="noopener noreferrer" class="nav-link external">Blog</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div><div class="content__default"><h1 id="_0906-0919"><a href="#_0906-0919" class="header-anchor">#</a> 0906 - 0919</h1> <h2 id="_0907-static-stack-heap-java-메모리-영역"><a href="#_0907-static-stack-heap-java-메모리-영역" class="header-anchor">#</a> 0907 - Static, Stack, Heap / Java 메모리 영역</h2> <blockquote><p>프로그램을 구동하기 위해서는 운영체제가 메모리에 데이터 및 명령을 저장할 공간을 할당해야함.<br>
메모리는 CPU가 처리할 데이터가 임시로 저장되는 공간. 동작은 하드디스크에  저장된 데이터가 메모리에 올라가서 실행되며, 메모리를 주 기억 장치라고 부름<br>
=&gt; 메모리는 사용 공간이 한정되어 있기 때문에 효율적으로 관리되어야함.</p></blockquote> <h3 id="static-area-스태틱-메모리-영역"><a href="#static-area-스태틱-메모리-영역" class="header-anchor">#</a> Static Area (스태틱 메모리 영역)</h3> <ul><li>static(정적)은 고정된 이라는 의미를 가지고 있다. static 이라는 키워드를 사용하여 정적 필드와 정적 메서드를 만들 수 있는데, 두 가지를 합쳐서 정적 멤버라고 한다.(= 클래스 멤버)</li> <li>Static Area(스태틱 메모리 영역)에서는 필드 부분에 선언된 변수(전역 벽수)와 정적 멤버 변수(static이 붙은 자료형)의 데이터를 저장한다.</li> <li>Static Area(스태틱 메모리 영역)에 데이터는 프로그램의 시작부터 종료가 될 때까지 메모리에 남아있게 된다. 즉, 프로그램이 종료될 때가지 어디서든지 사용이 가능하지만, 주의할 점은 전역 변수를 무분별하게 많이 사용하게 되면 메모리가 부족한 문제가 발생할 수 있다.</li></ul> <p>*** <code>객체에 소소된 멤버가 아닌 클래스에 고정된 멤버</code></p> <h3 id="stack-area-스택-메모리-영역"><a href="#stack-area-스택-메모리-영역" class="header-anchor">#</a> Stack Area (스택 메모리 영역)</h3> <ul><li>메소드 내에서 정의하는 기본 자료형에 해당되는 지역변수의 데이터 값이 저장되는 공간이 Stack Area이다. 해당 메서드가 호출될 때 메모리에 할당되고, 종료되면 메모리에서 사라진다.</li> <li>참조형 타입 변수는 참조값만 저장된다. 이 참조값은 Heap 영역에 존재하는 인스턴스(객체)를 가르키는 역할을 한다.(인스턴스의 주소 값)</li></ul> <p>*** <code>메서드 내에서 정의하는 기본 자료형</code></p> <ul><li>프로세스는 완벽히 독립적이기 때문에 메모리 영역을 다른 프로세스와 공유하지 않지만, 스레드는 프로세스 안에서 해당 스렏드를 위한 Stack영역을 생성하기 때문에 하나의 스레드에서 다른 스레드로의 접근은 불가능하지만 static, heap 영역에 저장된 데이터들은 공유해서 사용할 수 있다.</li></ul> <h3 id="heap-area-힙-메모리-영역"><a href="#heap-area-힙-메모리-영역" class="header-anchor">#</a> Heap Area (힙 메모리 영역)</h3> <ul><li>참조형(Reference Type)의 데이터 타입을 갖는 객체, 배열 등은 Heap 영역에 데이터가 저장된다.</li> <li>이때 변수(객체, 객체 변수, 참조 변수)는 Stack 영역의 공간에서 실제 데이터가 저장된 Heap 영역의 참조값(Reference key, 해시 코드 = 메모리에 저장된 주소를 연결해주는 값)을 new 연산자를 통해서 리턴 받는다.
<ul><li>실제 데이터를 가지고 있는 Heap 영역의 주소 값을 Stack 영역의 객체가 갖고 있는 것</li></ul></li> <li>이렇게 리턴 받은 참조값을 가지고 있는 객체를 통해서만 해당 인스턴스를 컨트롤 할 수 있다.</li> <li>인스턴스의 실제 데이터는 Heap 영역에 올라간다. 저장된 메모리 위치가 다르기 때문에 static 메서드에서 외부 인스턴스 멤버에 접근할 수 없다.</li></ul> <p>*** <code>Heap은 참조형의 데이터 객체에 실제 데이터들이 담기는 공간이고, 실제 데이터를 가지고 있는 Heap 영역의 참조값을 Stack 영역의 객체가 가지고 있는 것</code></p> <p>*** <code>new를 통해 인스턴스 객체를 생성했을 때, heap 영역에는 생성된 객체가 올라가고, Stack 영역에는 해당 객체에 대한 주소 값(Reference)이 저장</code></p> <p>*** <code>어떤 참조 변수도 Heap 영역에 있는 인스턴스를 참조하지 않게 된다면, GC에 의해 메모리에서 사라진다.</code></p> <br> <h2 id="_0909-jacoco"><a href="#_0909-jacoco" class="header-anchor">#</a> 0909 - jacoco</h2> <h3 id="jacoco"><a href="#jacoco" class="header-anchor">#</a> JaCoCo</h3> <blockquote><p>Java code coverage의 약자로 jUnit 테스트의 결과를 바탕으로 커버리지의 툴<br>
코드정적분석도구인 sonarqube와 연계하여 사용하는 경우가 많다.</p></blockquote> <h4 id="jacoco-특징"><a href="#jacoco-특징" class="header-anchor">#</a> JaCoCo 특징</h4> <ul><li>Line, Branch Coverage를 제공한다.</li> <li>코드 커버리지 결과를 보기 좋도록 파일  형태로 저장할 수 있다.
<ul><li>html, xml, csv 등으로 Report를 생성할 수 있다.</li></ul></li> <li>설정한 커버리지 기준을 만족하는지 확인할 수 있다.</li> <li>결과적으로 코드 커버리지를 쉽게 확인하고 관리할 수 있도록 도와준다.</li></ul> <h3 id="jacoco-maven-예제"><a href="#jacoco-maven-예제" class="header-anchor">#</a> JaCoCo Maven 예제</h3> <h4 id="jacoco-플러그인-추가"><a href="#jacoco-플러그인-추가" class="header-anchor">#</a> jacoco 플러그인 추가</h4> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.jacoco<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jacoco-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.8.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span> 
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>prepare-agent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">&gt;</span></span>report<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>phase</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>phase</span><span class="token punctuation">&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">&gt;</span></span> 
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">&gt;</span></span>report<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="jacococontroller-java"><a href="#jacococontroller-java" class="header-anchor">#</a> JacocoController.java</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>jacocotest</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestParam</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JacocoController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">&quot;world&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="jacococontrollertest-java"><a href="#jacococontrollertest-java" class="header-anchor">#</a> JacocoControllerTest.java</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>example<span class="token punctuation">.</span>jacocotest</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>request<span class="token punctuation">.</span></span><span class="token class-name">MockMvcRequestBuilders</span><span class="token punctuation">.</span>get<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>result<span class="token punctuation">.</span></span><span class="token class-name">MockMvcResultMatchers</span><span class="token punctuation">.</span>content<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>result<span class="token punctuation">.</span></span><span class="token class-name">MockMvcResultMatchers</span><span class="token punctuation">.</span>status<span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Test</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>test<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">AutoConfigureMockMvc</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">SpringBootTest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">MockMvc</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootTest</span>
<span class="token annotation punctuation">@AutoConfigureMockMvc</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JacocoControllerTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">MockMvc</span> mvc<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        mvc<span class="token punctuation">.</span><span class="token function">perform</span><span class="token punctuation">(</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">param</span><span class="token punctuation">(</span><span class="token string">&quot;n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">andExpect</span><span class="token punctuation">(</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isOk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="mvn-package"><a href="#mvn-package" class="header-anchor">#</a> mvn package</h4> <ul><li>mvn package 명령어를 입력한다.</li></ul> <blockquote><p>maven의 라이프사이클의 phase는<br> <code>validate -&gt; compile -&gt; test -&gt; package -&gt; install -&gt; deploy</code><br>
test 이후 package를 할때 Jacoco가 활약하므로 package까지만 입력시에도 Jacoco를 사용 가능</p></blockquote> <h3 id="특정-케이스-제외"><a href="#특정-케이스-제외" class="header-anchor">#</a> 특정 케이스 제외</h3> <ul><li>plugin에 configuration으로 제외</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.jacoco<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jacoco-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.8.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span> 

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>excludes</span><span class="token punctuation">&gt;</span></span> 
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclude</span><span class="token punctuation">&gt;</span></span>**/*Application.class<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclude</span><span class="token punctuation">&gt;</span></span> 
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>excludes</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">&gt;</span></span> 
       ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><br> <h2 id="_0910-ssr-csr"><a href="#_0910-ssr-csr" class="header-anchor">#</a> 0910 - SSR, CSR</h2> <h3 id="ssr-server-side-rendering"><a href="#ssr-server-side-rendering" class="header-anchor">#</a> SSR(Server Side Rendering)</h3> <blockquote><p>페이지 요청을 서버에서 렌더링을 마치고, data가 결합된 html파일을 보내는 방식.</p></blockquote> <ul><li>장점
<ul><li>CSR에 비해 다운 받는 페이지 리소스가 적어 초기 로딩속도가 비교적 빠르다.</li> <li>HTML에 대한 정보가 처음부터 포함되어 있어 모든 검색엔진에 대한 SEO(검색 엔진 최적화)가 가능하다.</li></ul></li> <li>단점
<ul><li>매번 페이지를 요청할 때마다 화면 깜빡임이 발생한다.</li> <li>페이지 이동시 서버에 매번 요청을 하기 때문에, 서버 부하가 커진다.</li></ul></li></ul> <h3 id="csr-client-side-rendering"><a href="#csr-client-side-rendering" class="header-anchor">#</a> CSR(Client Side Rendering)</h3> <blockquote><p>최초 로딩 시 브라우저가 서버에 html을 비롯한 css, javascript 등 각종 리소스들을 받아오는 방식이 클라이언트 사이드 렌더링 방식이다.</p></blockquote> <ul><li>장점
<ul><li>초기 요청을 제외하고는 SSR에 비해 빠른 페이지 전환 속도와 깜빡임 없는 UX를 제공한다.</li> <li>서버에 요청하는 횟수가 적기 때문에 서버 부담이 SSR에 비해 적다.</li></ul></li> <li>단점
<ul><li>최초 로딩 시 모든 리소스들을 받아와야 하기 떄문에 초기 로딩 속도가 느리다.</li> <li>처음에는 HTML이 비어 있어 크롤러가 데이터를 수집할 수 없기 때문에 SEO 문제가 발생한다.</li> <li>쿠키나 localStorage에서 사용자에 대한 정보를 저장해야 하기 때문에 XSS 공격에 취약하다.</li></ul></li></ul> <br> <h2 id="_0911-docker-redis-설치"><a href="#_0911-docker-redis-설치" class="header-anchor">#</a> 0911 - Docker Redis 설치</h2> <h3 id="도커로-레디스-설치"><a href="#도커로-레디스-설치" class="header-anchor">#</a> 도커로 레디스 설치</h3> <ul><li>레디스 이미지 가져오기</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>$ docker pull redis
</code></pre></div><ul><li>이미지 확인</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>$ docker images
</code></pre></div><ul><li>레디스 서버 실행</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>$ docker run --name 컨테이너이름 -d -p <span class="token number">6379</span>:6379 rdis
</code></pre></div><ul><li>Docker의 redis-cli로 접속하기</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>$ docker run -it --link 컨테이너이름:redis --rm redis redis-cli -h redis -p <span class="token number">6379</span>
</code></pre></div><ul><li>Shell로 Docker 리눅스에 접속하기</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>$ docker <span class="token function">ps</span>
$ docker <span class="token builtin class-name">exec</span> -it 컨테이너이름 /bin/bash
</code></pre></div><ul><li>도커용 redis.conf</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>daemonize no
<span class="token comment"># bind 127.0.0.1</span>
protected-mode no
port <span class="token number">6001</span>
logfile <span class="token string">&quot;redis.log&quot;</span>
<span class="token function">dir</span> /data
</code></pre></div><ul><li>redis.conf 파일 지정해서 실행: volume 지정</li></ul> <div class="language-sh extra-class"><pre class="language-sh"><code>$ docker run -v /root/docker/redis-5.0.3/6001:/data --name myredis -d -p <span class="token number">6001</span>:6001 redis redis-server /data/redis.conf   
</code></pre></div><br> <h2 id="_0918-docker-도커-이론"><a href="#_0918-docker-도커-이론" class="header-anchor">#</a> 0918 - docker(도커) 이론</h2> <h3 id="도커란"><a href="#도커란" class="header-anchor">#</a> 도커란?</h3> <blockquote><p>도커란, 컨테이너 기반의 오픈소스 가상화 플랫폼이다.</p></blockquote> <ul><li>애플리케이션을 신속하게 구축, 테스트 및 배포할 수 있는 소프트웨어 플랫폼</li> <li>도커는 소프트웨어를 컨테이너라는 표준화 된 유닛으로 패키징하며, 라이브러리, 시스템 도구, 코드, 런타임 등 소프트웨어를 실행하는 데 필요한 모든 것이 포함</li> <li>환경에 구애 받지 않는다.</li></ul> <h4 id="컨테이너"><a href="#컨테이너" class="header-anchor">#</a> 컨테이너</h4> <ul><li>컨테이너 기술은 호스트OS를 공유하며, 여러개의 컨테이너들이 서로 영향을 미치지 않고 독립적으로 실행되어 가볍다.</li> <li>VM과의 가장 큰 차이점은 프로세스를 격리 하는 것이다. VM은 가상머신들 사이에 오버헤드가 발생할떄 상당한 시간이 걸린다. 반면, 컨테이너 기술은 독립적으로, 호스트OS의 자원을 공유하며 각각 필요한 자원들을 할당받아 실행되기 때문에 오버헤드가 적다. **오버헤드 : 처리를 하기 위해 들어가는 간접적인 처리 시간 및 메모리</li></ul> <h4 id="컨테이너-생성"><a href="#컨테이너-생성" class="header-anchor">#</a> 컨테이너 생성</h4> <p>컨테이너의 생성은 기본적으로 <code>도커파일</code>이라는 것을 이용한다.<br>
가상화 할 프로그램들을 '도커파일'이란 DSL(Domain Specific Laguage)형태로 작성한다.</p> <ul><li>컨테이너의 생성과정</li></ul> <div class="language- extra-class"><pre class="language-text"><code>도커파일 -&gt; (build) = 도커이미지 생성
도커이미지 -&gt; (run) = 도커컨테이너 생성
</code></pre></div></div></div></div> <footer class="footer" data-v-3d9deeb8><div class="footer-left-wrap" data-v-3d9deeb8><ul class="contact" data-v-3d9deeb8></ul></div> <div class="footer-right-wrap" data-v-3d9deeb8><ul class="copyright" data-v-3d9deeb8></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/TIL/assets/js/app.face42bf.js" defer></script><script src="/TIL/assets/js/6.5d7ec74f.js" defer></script><script src="/TIL/assets/js/11.eca71194.js" defer></script><script src="/TIL/assets/js/37.0853aeff.js" defer></script>
  </body>
</html>

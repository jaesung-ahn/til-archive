<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>0503 - 0509 | TIL</title>
    <meta name="generator" content="VuePress 1.8.0">
    
    <meta name="description" content="Today I Learned">
    
    <link rel="preload" href="/TIL/assets/css/0.styles.f9013d74.css" as="style"><link rel="preload" href="/TIL/assets/js/app.edd951eb.js" as="script"><link rel="preload" href="/TIL/assets/js/2.4f3b10d1.js" as="script"><link rel="preload" href="/TIL/assets/js/18.fdc0aff0.js" as="script"><link rel="prefetch" href="/TIL/assets/js/10.a9eff2c6.js"><link rel="prefetch" href="/TIL/assets/js/11.0517149b.js"><link rel="prefetch" href="/TIL/assets/js/12.6be9f680.js"><link rel="prefetch" href="/TIL/assets/js/13.628f3a9b.js"><link rel="prefetch" href="/TIL/assets/js/14.45cef0dc.js"><link rel="prefetch" href="/TIL/assets/js/15.3e9e3641.js"><link rel="prefetch" href="/TIL/assets/js/16.aaca0600.js"><link rel="prefetch" href="/TIL/assets/js/17.14399a66.js"><link rel="prefetch" href="/TIL/assets/js/19.bc1e27de.js"><link rel="prefetch" href="/TIL/assets/js/20.511527a8.js"><link rel="prefetch" href="/TIL/assets/js/21.690a4364.js"><link rel="prefetch" href="/TIL/assets/js/22.875d341c.js"><link rel="prefetch" href="/TIL/assets/js/23.513e2a69.js"><link rel="prefetch" href="/TIL/assets/js/24.629fbc52.js"><link rel="prefetch" href="/TIL/assets/js/25.8045ce68.js"><link rel="prefetch" href="/TIL/assets/js/26.faa6bb2e.js"><link rel="prefetch" href="/TIL/assets/js/27.957c408e.js"><link rel="prefetch" href="/TIL/assets/js/28.db7cf4ed.js"><link rel="prefetch" href="/TIL/assets/js/29.1e360771.js"><link rel="prefetch" href="/TIL/assets/js/3.5f77de47.js"><link rel="prefetch" href="/TIL/assets/js/30.c0f04313.js"><link rel="prefetch" href="/TIL/assets/js/31.279e815c.js"><link rel="prefetch" href="/TIL/assets/js/32.54ba8382.js"><link rel="prefetch" href="/TIL/assets/js/33.38f8b16e.js"><link rel="prefetch" href="/TIL/assets/js/34.30c7a1f6.js"><link rel="prefetch" href="/TIL/assets/js/35.436fea18.js"><link rel="prefetch" href="/TIL/assets/js/36.f0e9f32a.js"><link rel="prefetch" href="/TIL/assets/js/37.af1abfed.js"><link rel="prefetch" href="/TIL/assets/js/38.5792cf1b.js"><link rel="prefetch" href="/TIL/assets/js/39.3a591008.js"><link rel="prefetch" href="/TIL/assets/js/4.9ce0351a.js"><link rel="prefetch" href="/TIL/assets/js/40.354995ad.js"><link rel="prefetch" href="/TIL/assets/js/41.49002dc3.js"><link rel="prefetch" href="/TIL/assets/js/42.9f66c6d8.js"><link rel="prefetch" href="/TIL/assets/js/43.7910ca10.js"><link rel="prefetch" href="/TIL/assets/js/44.e9c8df43.js"><link rel="prefetch" href="/TIL/assets/js/45.3b3e4884.js"><link rel="prefetch" href="/TIL/assets/js/46.5c7d6332.js"><link rel="prefetch" href="/TIL/assets/js/47.d11d3aeb.js"><link rel="prefetch" href="/TIL/assets/js/48.5d0aa93b.js"><link rel="prefetch" href="/TIL/assets/js/49.07056705.js"><link rel="prefetch" href="/TIL/assets/js/5.81254301.js"><link rel="prefetch" href="/TIL/assets/js/50.98053267.js"><link rel="prefetch" href="/TIL/assets/js/51.9fa93b75.js"><link rel="prefetch" href="/TIL/assets/js/52.1ca9ee11.js"><link rel="prefetch" href="/TIL/assets/js/53.0b2e5e47.js"><link rel="prefetch" href="/TIL/assets/js/54.21fe03a9.js"><link rel="prefetch" href="/TIL/assets/js/55.d05edecd.js"><link rel="prefetch" href="/TIL/assets/js/56.d262164c.js"><link rel="prefetch" href="/TIL/assets/js/57.9c836708.js"><link rel="prefetch" href="/TIL/assets/js/58.b3944ec3.js"><link rel="prefetch" href="/TIL/assets/js/59.2608905a.js"><link rel="prefetch" href="/TIL/assets/js/6.6e8c67be.js"><link rel="prefetch" href="/TIL/assets/js/60.42f35a28.js"><link rel="prefetch" href="/TIL/assets/js/61.c7dc1d82.js"><link rel="prefetch" href="/TIL/assets/js/62.f28e1062.js"><link rel="prefetch" href="/TIL/assets/js/63.f39e3e8b.js"><link rel="prefetch" href="/TIL/assets/js/64.20342d07.js"><link rel="prefetch" href="/TIL/assets/js/65.a3f37f69.js"><link rel="prefetch" href="/TIL/assets/js/66.b22a316d.js"><link rel="prefetch" href="/TIL/assets/js/67.62f3de77.js"><link rel="prefetch" href="/TIL/assets/js/68.86a5fcd7.js"><link rel="prefetch" href="/TIL/assets/js/69.1467db70.js"><link rel="prefetch" href="/TIL/assets/js/7.ef6f5ae0.js"><link rel="prefetch" href="/TIL/assets/js/70.dd08cc4e.js"><link rel="prefetch" href="/TIL/assets/js/71.b445c254.js"><link rel="prefetch" href="/TIL/assets/js/72.3c60c168.js"><link rel="prefetch" href="/TIL/assets/js/73.70e1c65a.js"><link rel="prefetch" href="/TIL/assets/js/74.9f89d40d.js"><link rel="prefetch" href="/TIL/assets/js/75.07d3f8a8.js"><link rel="prefetch" href="/TIL/assets/js/76.cfcb2634.js"><link rel="prefetch" href="/TIL/assets/js/77.e0459440.js"><link rel="prefetch" href="/TIL/assets/js/8.4b33a531.js"><link rel="prefetch" href="/TIL/assets/js/9.7af81715.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.f9013d74.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">TIL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/jaesungahn91" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://velog.io/@ahnjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/jaesungahn91" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://velog.io/@ahnjs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2022</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>2021</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/2021/0217.html" class="sidebar-link">0217 - 0221</a></li><li><a href="/TIL/2021/0222.html" class="sidebar-link">0222 - 0229</a></li><li><a href="/TIL/2021/0301.html" class="sidebar-link">0301 - 0307</a></li><li><a href="/TIL/2021/0308.html" class="sidebar-link">0308 - 0314</a></li><li><a href="/TIL/2021/0315.html" class="sidebar-link">0315 - 0321</a></li><li><a href="/TIL/2021/0322.html" class="sidebar-link">0322 - 0328</a></li><li><a href="/TIL/2021/0329.html" class="sidebar-link">0329 - 0404</a></li><li><a href="/TIL/2021/0405.html" class="sidebar-link">0405 - 0411</a></li><li><a href="/TIL/2021/0412.html" class="sidebar-link">0412 - 0418</a></li><li><a href="/TIL/2021/0419.html" class="sidebar-link">0419 - 0425</a></li><li><a href="/TIL/2021/0426.html" class="sidebar-link">0426 - 0502</a></li><li><a href="/TIL/2021/0503.html" aria-current="page" class="active sidebar-link">0503 - 0509</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/TIL/2021/0503.html#_0503-git-자가점검" class="sidebar-link">0503 - git 자가점검</a></li><li class="sidebar-sub-header"><a href="/TIL/2021/0503.html#_0504-jpa로-인덱스-사용" class="sidebar-link">0504 - JPA로 인덱스 사용</a></li><li class="sidebar-sub-header"><a href="/TIL/2021/0503.html#_0505-jpa-특정-type-정의" class="sidebar-link">0505 - JPA 특정 type 정의</a></li><li class="sidebar-sub-header"><a href="/TIL/2021/0503.html#_0506-파일속-문자열-찾기" class="sidebar-link">0506 - 파일속 문자열 찾기</a></li><li class="sidebar-sub-header"><a href="/TIL/2021/0503.html#_0507-java11" class="sidebar-link">0507 - Java11</a></li><li class="sidebar-sub-header"><a href="/TIL/2021/0503.html#_0508-맥-터미널에서-aws-ec2-터미널-접속" class="sidebar-link">0508 - 맥 터미널에서 AWS EC2 터미널 접속</a></li><li class="sidebar-sub-header"><a href="/TIL/2021/0503.html#_0509-junit5-사용" class="sidebar-link">0509 - jUnit5 사용</a></li></ul></li><li><a href="/TIL/2021/0510.html" class="sidebar-link">0510 - 0516</a></li><li><a href="/TIL/2021/0517.html" class="sidebar-link">0517 - 0523</a></li><li><a href="/TIL/2021/0524.html" class="sidebar-link">0524 - 0530</a></li><li><a href="/TIL/2021/0531.html" class="sidebar-link">0531 - 0606</a></li><li><a href="/TIL/2021/0607.html" class="sidebar-link">0607 - 0613</a></li><li><a href="/TIL/2021/0614.html" class="sidebar-link">0614 - 0620</a></li><li><a href="/TIL/2021/0621.html" class="sidebar-link">0621 - 0627</a></li><li><a href="/TIL/2021/0628.html" class="sidebar-link">0628 - 0704</a></li><li><a href="/TIL/2021/0705.html" class="sidebar-link">0705 - 0808</a></li><li><a href="/TIL/2021/0809.html" class="sidebar-link">0809 - 0815</a></li><li><a href="/TIL/2021/0816.html" class="sidebar-link">0816 - 0822</a></li><li><a href="/TIL/2021/0823.html" class="sidebar-link">0823 - 0829</a></li><li><a href="/TIL/2021/0830.html" class="sidebar-link">0830 - 0905</a></li><li><a href="/TIL/2021/0906.html" class="sidebar-link">0906 - 0919</a></li><li><a href="/TIL/2021/0920.html" class="sidebar-link">0920 - 0926</a></li><li><a href="/TIL/2021/0927.html" class="sidebar-link">0927 - 1003</a></li><li><a href="/TIL/2021/1004.html" class="sidebar-link">1004 - 1010</a></li><li><a href="/TIL/2021/1011.html" class="sidebar-link">1011 - 1017</a></li><li><a href="/TIL/2021/1018.html" class="sidebar-link">1018 - 1024</a></li><li><a href="/TIL/2021/1101.html" class="sidebar-link">1101 - 1107</a></li><li><a href="/TIL/2021/1108.html" class="sidebar-link">1108 - 1114</a></li><li><a href="/TIL/2021/1115.html" class="sidebar-link">1115 - 1124</a></li><li><a href="/TIL/2021/1122.html" class="sidebar-link">1122 - 1128</a></li><li><a href="/TIL/2021/1129.html" class="sidebar-link">1129 - 1205</a></li><li><a href="/TIL/2021/1206.html" class="sidebar-link">1206 - 1212</a></li><li><a href="/TIL/2021/1213.html" class="sidebar-link">1213 - 1219</a></li><li><a href="/TIL/2021/1220.html" class="sidebar-link">1220 - 1226</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_0503-0509"><a href="#_0503-0509" class="header-anchor">#</a> 0503 - 0509</h1> <h2 id="_0503-git-자가점검"><a href="#_0503-git-자가점검" class="header-anchor">#</a> 0503 - git 자가점검</h2> <h3 id="git-자가점검"><a href="#git-자가점검" class="header-anchor">#</a> git 자가점검</h3> <h4 id="버전-관리하기"><a href="#버전-관리하기" class="header-anchor">#</a> 버전 관리하기</h4> <div class="language- extra-class"><pre class="language-text"><code>✅ 사용자의 아이디/이메일을 설정할 수 있는가?
    git config user.name 아이디
    git config user.email 이메일주소
    -local, -global
✅ 사용자의 아이디/이메일을 삭제할 수 있는가?
✅ 해당 디렉토리를 깃 저장소로 만들 수 있는가? 
    git init
✅ 해당 디렉토리의 상태를 확인할 수 있는가?
    git status
✅ 로그를 확인할 수 있는가?
    git log
✅ 스테이징을 할 수 있는가?
    git add 파일이름.확장자
✅ 커밋을 할 수 있는가? 
    git commit -m &quot;message&quot;
✅ 스테이징과 커밋을 한 번에 할 수 있는가?
    git commit -am &quot;message&quot;
✅ 커밋/스테이징을 취소할 수 있는가?
    git reset HEAD^
✅ 작업 트리에서의 수정 내역도 삭제할 수 있는가? 
    git restore 파일이름.확장자
    git checkout 파일이름.확장자
</code></pre></div><h4 id="branch"><a href="#branch" class="header-anchor">#</a> branch</h4> <div class="language- extra-class"><pre class="language-text"><code>✅ (해당 저장소 내에서) 브랜치를 확인할 수 있는가? 
    git branch
✅ 브랜치를 생성할 수 있는가?
    git branch 브런치
✅ 커밋 내역을 확인할 수 있는가? 
    git log --oneline
✅ 브랜치 로그 그래프를 확인할 수 있는가?
    git log --oneline --branches --graph
✅ 브랜치를 이동할 수 있는가?
    git checkout 해당브런치
✅ master 브랜치에 브랜치를 병합할 수 있는가?
    git merge 병합 대상 브런치
✅ 충돌을 해결할 수 있는가?
    직접 충돌 해결, 파일 수정 후 커밋
</code></pre></div><h4 id="remote-저장소"><a href="#remote-저장소" class="header-anchor">#</a> remote 저장소</h4> <div class="language- extra-class"><pre class="language-text"><code>✅ 깃과 깃허브의 차이점을 아는가?
    git : 분산 버전 관리 시스템
    github : git을 지원하는 플랫폼
✅ 로컬 저장소와 원격 저장소를 연결할 수 있는가?
    git remote add origin 원격주소
✅ 원격 저장소와 연결된 것을 확인할 수 있는가?
    git remote -v
✅ 로컬 저장소에서 원격 저장소로 push할 수 있는가?
    git push origin 브런치
✅ 원격 저장소에서 로컬 저장소로 pull할 수 있는가?
    git pull origin master
    git pull
✅ 로컬 저장소에서 만든 브랜치를 원격 저장소에 반영할 수 있는가?
✅ 원격 저장소의 브랜치를 로컬 저장소로 가져올 수 있는가?
    git pull
    git checkout -b 변경대상 브런치 원래 브런치
    git checkout -t 원래 원격 브런치
✅ pull과 fetch와 merge의 차이점을 아는가? 
    pull == fetch + merge
    =&gt; git fetch =&gt; git checkout FETCH_HEAD =&gt; git merge FETCH_HEAD
✅ pull-request를 할 수 있는가?
    github
✅ 원격 저장소를 복제해 로컬 저장소로 가져올 수 있는가?
    git clone 주소
✅ fork에 대해 이해했는가? 
</code></pre></div><br> <h2 id="_0504-jpa로-인덱스-사용"><a href="#_0504-jpa로-인덱스-사용" class="header-anchor">#</a> 0504 - JPA로 인덱스 사용</h2> <h3 id="jpa로-인덱스-사용"><a href="#jpa로-인덱스-사용" class="header-anchor">#</a> JPA로 인덱스 사용</h3> <blockquote><p>데이터베이스 조건문 조회시, 테이블 전체를 full scan, 비효율적
인덱스 테이블 활용(B-Tree 자료구조)<br>
O(n) =&gt; O(logn) 시간복잡도</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@NoArgsConstructor</span><span class="token punctuation">(</span>access <span class="token operator">=</span> PROTECTED<span class="token punctuation">)</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@Getter</span>
<span class="token annotation punctuation">@ToString</span>
<span class="token annotation punctuation">@EqualsAndHashCode</span><span class="token punctuation">(</span>of <span class="token operator">=</span> <span class="token string">&quot;userSeq&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@DynamicUpdate</span>
<span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;users&quot;</span><span class="token punctuation">,</span>
        <span class="token comment">// 인덱스 설정</span>
       indexes <span class="token operator">=</span> <span class="token punctuation">{</span>
               <span class="token annotation punctuation">@Index</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;users_email_idx&quot;</span><span class="token punctuation">,</span> unique <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> columnList <span class="token operator">=</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               <span class="token annotation punctuation">@Index</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;users_nickname_idx&quot;</span><span class="token punctuation">,</span> unique <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span> columnList <span class="token operator">=</span> <span class="token string">&quot;nickname&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               <span class="token annotation punctuation">@Index</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;users_user_type_idx&quot;</span><span class="token punctuation">,</span> columnList <span class="token operator">=</span> <span class="token string">&quot;user_type&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               <span class="token annotation punctuation">@Index</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;user_deleted_active_idx&quot;</span><span class="token punctuation">,</span> columnList <span class="token operator">=</span> <span class="token string">&quot;deleted,active&quot;</span><span class="token punctuation">)</span>
       <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Users</span> <span class="token keyword">extends</span> <span class="token class-name">BaseEntity</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> IDENTITY<span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;user_seq&quot;</span><span class="token punctuation">,</span> updatable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> userSeq<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><p>결론
데이터 조회시 속도에 영향을 미치지만<br>
인덱스를 과도하게 설정시 자체만으로 메모리 공간을 많이 차지하고, 테이블이 변경될 때마다 인덱스 정렬 순서도 매번 수정이 되어야하므로 비효율을 낳는다.</p> <p>복합인덱스 사용시 갯수는 3~4개가 적당하면 인덱스를 고를때에는 카디널리티가 높은 순서대로 고르는게 효율적이다.</p> <p>B-Tree는 LIKE 검색으로 중간일치, 후방일치 검색을 할 수 없기 때문에 전방탐색(full-text)이 아니라면, 엘라스틱서치나 다른 방식으로 검색의 효율을 높이는게 좋다.</p> <br> <h2 id="_0505-jpa-특정-type-정의"><a href="#_0505-jpa-특정-type-정의" class="header-anchor">#</a> 0505 - JPA 특정 type 정의</h2> <h3 id="jpa-특정-type-정의"><a href="#jpa-특정-type-정의" class="header-anchor">#</a> JPA 특정 type 정의</h3> <h4 id="spring-data-jpa-기반이-되는-hibernate의-type을-추가하기-위하여-vladmihalcea의-hibernate-types를-추가"><a href="#spring-data-jpa-기반이-되는-hibernate의-type을-추가하기-위하여-vladmihalcea의-hibernate-types를-추가" class="header-anchor">#</a> Spring Data JPA 기반이 되는 Hibernate의 type을 추가하기 위하여 <code>vladmihalcea의 hibernate-types</code>를 추가</h4> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.vladmihalcea<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hibernate-types-52<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.10.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="typedef-추가"><a href="#typedef-추가" class="header-anchor">#</a> TypeDef 추가</h4> <ul><li>jsonb</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">me<span class="token punctuation">.</span>oofbird<span class="token punctuation">.</span>jpa</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">TypeDef</span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>vladmihalcea<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>type<span class="token punctuation">.</span>json<span class="token punctuation">.</span></span><span class="token class-name">JsonBinaryType</span><span class="token punctuation">;</span> 

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>persistence<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span> 

<span class="token annotation punctuation">@Entity</span> 
<span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;TB_TEST&quot;</span><span class="token punctuation">)</span> 
<span class="token annotation punctuation">@TypeDef</span><span class="token punctuation">(</span>
    name <span class="token operator">=</span> <span class="token string">&quot;jsonb&quot;</span><span class="token punctuation">,</span> 
    typeClass <span class="token operator">=</span> <span class="token class-name">JsonBinaryType</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestTable</span> <span class="token punctuation">{</span> 
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token annotation punctuation">@Type</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token string">&quot;jsonb&quot;</span><span class="token punctuation">)</span> 
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;JSON_TEXT&quot;</span><span class="token punctuation">,</span> columnDefinition <span class="token operator">=</span> <span class="token string">&quot;jsonb&quot;</span><span class="token punctuation">)</span> 
    <span class="token keyword">private</span> <span class="token class-name">JsonPOJOObject</span> jsonText<span class="token punctuation">;</span> 
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>list-array</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;TB_TEST&quot;</span><span class="token punctuation">)</span> 
<span class="token annotation punctuation">@TypeDef</span><span class="token punctuation">(</span>
    name <span class="token operator">=</span> <span class="token string">&quot;list-array&quot;</span><span class="token punctuation">,</span>
    typeClass <span class="token operator">=</span> <span class="token class-name">ListArrayType</span><span class="token punctuation">.</span><span class="token keyword">class</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestTable</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token annotation punctuation">@Type</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token string">&quot;list-array&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;LIST-ARRAY&quot;</span><span class="token punctuation">,</span> columnDefinition <span class="token operator">=</span> <span class="token string">&quot;int[]&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> listText <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><br> <h2 id="_0506-파일속-문자열-찾기"><a href="#_0506-파일속-문자열-찾기" class="header-anchor">#</a> 0506 - 파일속 문자열 찾기</h2> <blockquote><p><code>grep [option] pattern [file]</code></p></blockquote> <h3 id="옵션"><a href="#옵션" class="header-anchor">#</a> 옵션</h3> <ul><li>-c : 매칭된 검색 결과를 출력하지 않고 매칭된 행의 총 라인 수를 출력한다.</li> <li>-i : 매칭에 사용하는 문자의 대소문자를 구분하지 않는다.</li> <li>-l : 패턴에 매칭된 라인이 하나라도 있는 파일의 이름만을 출력한다.</li> <li>-n : 파일 내에서 매칭된 행 번호를 함께 출력한다.</li> <li>-s : 에러 메시지 외에는 출력하지 않는다.</li> <li>-v : 패턴과 매칭되지 않는 행만 출력한다.</li> <li>-w : &lt;와 &gt;로 둘러싸인 패턴표현을 하나의 단어로 취급하여 검색한다.</li></ul> <h3 id="정규표현식-메타-문자"><a href="#정규표현식-메타-문자" class="header-anchor">#</a> 정규표현식 메타 문자</h3> <ul><li>^ : 행의 시작 지시자 ex) ^joon : joon으로 시작하는 모든 행을 출력함</li> <li>$ : 행의 끝 지시자  ex) joon$ : joon으로 끝나는 모든 행을 출력함.</li> <li>. : 하나의 문자와 대응<br>
ex) j..n : 총 4개의 문자로 이루어진 문자열 중에 처음 문자는 j 끝문자는 n으로 끝나는 문자의 행을 출력함</li> <li>* : 매칭되는 문자가 없거나 하나 이상의 문자에 대해 매칭 ex)joo* : joo, joon, jooo, jood, joon0312 전부 매칭</li> <li>[] : [ ]안에 문자 중 어떤 하나라도 매칭  ex) joo[n,d,o] : joon, jood, jooo 매칭</li></ul> <br> <h2 id="_0507-java11"><a href="#_0507-java11" class="header-anchor">#</a> 0507 - Java11</h2> <h3 id="oracle-java-support-roadmap"><a href="#oracle-java-support-roadmap" class="header-anchor">#</a> Oracle Java Support RoadMap</h3> <p><img src="https://user-images.githubusercontent.com/49400801/117472491-e7445300-af93-11eb-9387-48f5f9524c8f.png" alt="roadmap"></p> <h3 id="_1-람다-파라미터를-위한-지역변수-표현"><a href="#_1-람다-파라미터를-위한-지역변수-표현" class="header-anchor">#</a> 1. 람다 파라미터를 위한 지역변수 표현</h3> <p><code>java 10버전에서 편리한 var 구문이 생겨난 상황</code>에서, 11버전에서는 람다 파라미터에서 var를 이용 할 수 있게 됨</p> <div class="language-java extra-class"><pre class="language-java"><code>list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token keyword">var</span> s<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_2-http-client-standard"><a href="#_2-http-client-standard" class="header-anchor">#</a> 2. HTTP Client (Standard)</h3> <ul><li>Non-Blocking request and response 지원 (with CompletableFuture)</li> <li>Backpressure 지원(java.util.concurrent.Flow 패키지를 통해 Rx Flow를 구현체에 적용)</li> <li>Factory method 형태로 지원</li> <li>HTTP/2 지원</li> <li>Sptring5에서는 Rest Client에 RestTemplate 대신 WebClient를 사용하여 비동기 구현 가능.<br>
=&gt; 기존 멀티쓰레드 방식을 버리고 Reactor(WebFlux) 와 함께 스프링 기반 웹서비스를 구현할 경우 그에 따른  성능과 효율 향상은 어마어마 합니다.</li></ul> <h3 id="_3-모듈"><a href="#_3-모듈" class="header-anchor">#</a> 3. 모듈</h3> <ul><li>메모리 공간을 더 적게 사용</li> <li>특히 마이크로서비스 아키텍처에서 유용</li> <li>런타임이 더 작아지고, 더가벼워져서 더 빠르게 시작</li> <li>강력한 캡슐화를 적용</li></ul> <h3 id="_4-프로파일링-및-진단"><a href="#_4-프로파일링-및-진단" class="header-anchor">#</a> 4. 프로파일링 및 진단</h3> <h4 id="java-flight-recorder"><a href="#java-flight-recorder" class="header-anchor">#</a> Java Flight Recorder</h4> <p>실행 중인 Java 애플리케이션에서 진단 및 프로파일링 데이터 수집, Java 11에서는 둘다 오픈 소스</p> <h4 id="java-mission-control"><a href="#java-mission-control" class="header-anchor">#</a> Java Mission Control</h4> <ul><li>JFR 및 JMC를 사용하면 메모리 누수, GC 오버헤드, 핫 메서드 스레드 병목 상태 및 I/O 블로킹과 같은 런타임 문제를 진단</li></ul> <h4 id="통합-로깅"><a href="#통합-로깅" class="header-anchor">#</a> 통합 로깅</h4> <h4 id="오버헤드가-낮은-힙-프로파일링"><a href="#오버헤드가-낮은-힙-프로파일링" class="header-anchor">#</a> 오버헤드가 낮은 힙 프로파일링</h4> <h4 id="stackwalker"><a href="#stackwalker" class="header-anchor">#</a> StackWalker</h4> <h3 id="_5-가비지-수집"><a href="#_5-가비지-수집" class="header-anchor">#</a> 5. 가비지 수집</h3> <ul><li>Java 11의 기본 가비지 수집기는 G1GC(가비지 우선 가비지 수집기)</li> <li>ZGC는 일시 중지 시간을 10ms 미만으로 유지하려고 하는 대기 시간이 짧은 동시 수집기</li></ul> <h4 id="엡실론"><a href="#엡실론" class="header-anchor">#</a> 엡실론</h4> <blockquote><p>엡실론 가비지 수집기 할당만을 처리하며 메모리를 회수하지않는다. 힙이 소진되면 JVM이 종료</p></blockquote> <h4 id="docker-컨테이너의-향상된-기능"><a href="#docker-컨테이너의-향상된-기능" class="header-anchor">#</a> Docker 컨테이너의 향상된 기능</h4> <p>Java 10부터 JVM은 컨테이너 제어 그룹(cgroup)에 의해 설정된 제약 조건을 사용</p> <h3 id="_6-성능-향상"><a href="#_6-성능-향상" class="header-anchor">#</a> 6. 성능 향상</h3> <br> <h2 id="_0508-맥-터미널에서-aws-ec2-터미널-접속"><a href="#_0508-맥-터미널에서-aws-ec2-터미널-접속" class="header-anchor">#</a> 0508 - 맥 터미널에서 AWS EC2 터미널 접속</h2> <h3 id="키파일-퍼미션-변경"><a href="#키파일-퍼미션-변경" class="header-anchor">#</a> 키파일 퍼미션 변경</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">chmod</span> <span class="token number">400</span> 경로/keyfile.pem
</code></pre></div><h3 id="터미널에서-키파일-옵션을-추가한-명령으로-ssh-접속"><a href="#터미널에서-키파일-옵션을-추가한-명령으로-ssh-접속" class="header-anchor">#</a> 터미널에서 키파일 옵션을 추가한 명령으로 ssh 접속</h3> <div class="language-shell extra-class"><pre class="language-shell"><code>$ <span class="token function">ssh</span> -i 경로/keyfile.pem ec2-user@<span class="token punctuation">[</span>서버 아이피 또는 도메인<span class="token punctuation">]</span>
</code></pre></div><br> <h2 id="_0509-junit5-사용"><a href="#_0509-junit5-사용" class="header-anchor">#</a> 0509 - jUnit5 사용</h2> <h3 id="의존성-gradle"><a href="#의존성-gradle" class="header-anchor">#</a> 의존성(gradle)</h3> <div class="language-gradle extra-class"><pre class="language-text"><code>dependencies {
    testCompile('org.junit.jupiter:junit-jupiter:5.7.1')
    testCompile('org.assertj:assertj-core:3.19.0')
}
</code></pre></div><h3 id="예제"><a href="#예제" class="header-anchor">#</a> 예제</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">RefereeTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> ANSWER <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Referee</span> referee<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@BeforeEach</span>
    <span class="token keyword">void</span> <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        referee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Referee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@ParameterizedTest</span>
    <span class="token annotation punctuation">@CsvSource</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;1,2,3,0 볼 3 스트라이크&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3,1,2,3 볼 0 스트라이크&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1,3,2,2 볼 1 스트라이크&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;7,8,9,아웃&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token keyword">int</span> number1<span class="token punctuation">,</span> <span class="token keyword">int</span> number2<span class="token punctuation">,</span> <span class="token keyword">int</span> number3<span class="token punctuation">,</span> <span class="token class-name">String</span> expected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> actual <span class="token operator">=</span> referee<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>ANSWER<span class="token punctuation">,</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>number1<span class="token punctuation">,</span> number2<span class="token punctuation">,</span> number3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">assertThat</span><span class="token punctuation">(</span>actual<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEqualTo</span><span class="token punctuation">(</span>expected<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> 스트라이크<span class="token function">3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> result <span class="token operator">=</span> referee<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>ANSWER<span class="token punctuation">,</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">assertThat</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEqualTo</span><span class="token punctuation">(</span><span class="token string">&quot;0 볼 3 스트라이크&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>@Test : 테스트 메소드임을 명시</li> <li>@ParameterizedTest : 매개변수가 있는 테스트임을 명시</li> <li>@BeforeEach : 해당 메서드는 현재 테스트 클래스의 각각의 메서드 보다 먼저 실행된다.</li> <li>@CsvSource : 여러 파라미터를 전달하고자 할 때 사용한다. <code>,</code>로 값을 구분 delimiter 속성을 사용해 사용자 정의 가능</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TIL/2021/0426.html" class="prev">
        0426 - 0502
      </a></span> <span class="next"><a href="/TIL/2021/0510.html">
        0510 - 0516
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/TIL/assets/js/app.edd951eb.js" defer></script><script src="/TIL/assets/js/2.4f3b10d1.js" defer></script><script src="/TIL/assets/js/18.fdc0aff0.js" defer></script>
  </body>
</html>

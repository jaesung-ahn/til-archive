# 0206 ~ 0219

## 0209 - Filter를 통한 Logging

## 0214 - Thread dump와 Heap dump
개방용어로써 dump는 시스템에 저장된 정보를 복사하여 뽑은 것. 또는 그와 같은일로 쓰인다. 일종의 snapshot 개념인데 주로 분석 최적화에 많이 쓰인다. DB dump, Thread dump 등이 있다. 

### Thread Dump
- 프로세스에 속한 모든 thread들의 상태를 기록한것
- 여기서 말하는 thread들 중 일부는 JVM 내부 thread 이고 일부는 실행중인 애플리케이션의 thread이다
- Thread dump는 발생된 문제들을 진단, 분석하고 jvm 성능을 최적화하는데 필요한 정보를 보여준다
- 예를 들어 Thread dump는 자동으로 데드락을 표시한다

> 데드락이란? 운영체제 혹은 소프트웨어의 잘못된 자원 관리로 인하여 둘 이상의 프로세스(심하면 운영체제 자체도 포함)가 함께 멈추어 버리는 현상을 말한다  
> 우리나라 말로 교착상태라고 한다  
> 데드락은 두 개 이상의 Thread에서 작업을 완료하기 위해 상대의 작업이 끝나기를 기다린다

### Heap Dump
- 특정 시점에 JVM heap 영역에 있는 모든 개체의 스냅샷
- 일반적으로 알고 있는 JVM 구조에서 heap 영역을 생각하면 된다
- GC가 힙에서 불필요한 객체를 제거하지 못하는경우 Java VisualVM을 사용하여 해당 객체에 대한 정보를 얻어낼 수 있

#### **[ Heap Dump 떠보기 ]**
```sh
# 실시간 분석하기
jmap -heap <PID>

# 파일로 출력하기
jmap -dump:format=b,file=<FILE_OUTPUT> <PID>
```

### 0220 - APM

### 0222 - @Transient
